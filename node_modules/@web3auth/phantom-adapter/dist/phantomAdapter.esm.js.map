{"version":3,"file":"phantomAdapter.esm.js","sources":["../src/utils.ts","../src/phantomAdapter.ts"],"sourcesContent":[null,null],"names":["poll","callback","interval","count","Promise","resolve","reject","setTimeout","done","then","res","catch","err","detectProvider","options","isPhantomAvailable","window","solana","isPhantom","isAvailable","PhantomAdapter","BaseAdapter","constructor","WALLET_ADAPTERS","PHANTOM","ADAPTER_NAMESPACES","SOLANA","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","_wallet","off","_onDisconnect","rehydrated","status","CONNECTED","READY","emit","ADAPTER_EVENTS","DISCONNECTED","chainConfig","isWalletConnected","isConnected","provider","phantomProvider","_","Error","setAdapterSettings","init","checkInitializationRequirements","getChainConfig","WalletInitializationError","notInstalled","PhantomInjectedProvider","config","log","debug","autoConnect","connect","error","checkConnectionRequirements","CONNECTING","adapter","handleDisconnect","_handleDisconnect","connectWithProvider","once","windowClosed","args","apply","reason","Web3AuthError","WalletLoginError","connectionError","message","publicKey","on","ERRORED","disconnect","cleanup","notConnectedError","disconnectionError","getUserInfo","injectedProvider","setupProvider","reconnected"],"mappings":"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"}