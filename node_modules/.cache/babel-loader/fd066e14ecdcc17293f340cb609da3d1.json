{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\crypt\\\\Desktop\\\\Sentiment Dapp\\\\FirstDapp-Starter\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport { MagicPayloadMethod as e, RPCErrorCode as t, SDKErrorCode as r, SDKWarningCode as n, MagicOutgoingWindowMessage as o, MagicIncomingWindowMessage as i } from \"@magic-sdk/types\";\n\nfunction s(e) {\n  var t = {\n    exports: {}\n  };\n  return e(t, t.exports), t.exports;\n}\n\nfunction a(e, t) {\n  for (var r = 0; r < t.length; r++) {\n    var n = t[r];\n    n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n  }\n}\n\nfunction c(e, t, r) {\n  return t && a(e.prototype, t), r && a(e, r), e;\n}\n\nfunction u() {\n  return (u = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = arguments[t];\n\n      for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction l(e, t) {\n  e.prototype = Object.create(t.prototype), e.prototype.constructor = e, f(e, t);\n}\n\nfunction h(e) {\n  return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  })(e);\n}\n\nfunction f(e, t) {\n  return (f = Object.setPrototypeOf || function (e, t) {\n    return e.__proto__ = t, e;\n  })(e, t);\n}\n\nfunction p() {\n  if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n  if (Reflect.construct.sham) return !1;\n  if (\"function\" == typeof Proxy) return !0;\n\n  try {\n    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n  } catch (e) {\n    return !1;\n  }\n}\n\nfunction d(e, t, r) {\n  return (d = p() ? Reflect.construct : function (e, t, r) {\n    var n = [null];\n    n.push.apply(n, t);\n    var o = new (Function.bind.apply(e, n))();\n    return r && f(o, r.prototype), o;\n  }).apply(null, arguments);\n}\n\nfunction v(e) {\n  var t = \"function\" == typeof Map ? new Map() : void 0;\n  return (v = function (e) {\n    if (null === e || -1 === Function.toString.call(e).indexOf(\"[native code]\")) return e;\n    if (\"function\" != typeof e) throw new TypeError(\"Super expression must either be null or a function\");\n\n    if (void 0 !== t) {\n      if (t.has(e)) return t.get(e);\n      t.set(e, r);\n    }\n\n    function r() {\n      return d(e, arguments, h(this).constructor);\n    }\n\n    return r.prototype = Object.create(e.prototype, {\n      constructor: {\n        value: r,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), f(r, e);\n  })(e);\n}\n\nfunction E(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\n\ns(function (e) {\n  var t = function (e) {\n    var t,\n        r = Object.prototype,\n        n = r.hasOwnProperty,\n        o = \"function\" == typeof Symbol ? Symbol : {},\n        i = o.iterator || \"@@iterator\",\n        s = o.asyncIterator || \"@@asyncIterator\",\n        a = o.toStringTag || \"@@toStringTag\";\n\n    function c(e, t, r) {\n      return Object.defineProperty(e, t, {\n        value: r,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }), e[t];\n    }\n\n    try {\n      c({}, \"\");\n    } catch (e) {\n      c = function (e, t, r) {\n        return e[t] = r;\n      };\n    }\n\n    function u(e, t, r, n) {\n      var o = Object.create((t && t.prototype instanceof E ? t : E).prototype),\n          i = new T(n || []);\n      return o._invoke = function (e, t, r) {\n        var n = h;\n        return function (o, i) {\n          if (n === p) throw new Error(\"Generator is already running\");\n\n          if (n === d) {\n            if (\"throw\" === o) throw i;\n            return S();\n          }\n\n          for (r.method = o, r.arg = i;;) {\n            var s = r.delegate;\n\n            if (s) {\n              var a = L(s, r);\n\n              if (a) {\n                if (a === v) continue;\n                return a;\n              }\n            }\n\n            if (\"next\" === r.method) r.sent = r._sent = r.arg;else if (\"throw\" === r.method) {\n              if (n === h) throw n = d, r.arg;\n              r.dispatchException(r.arg);\n            } else \"return\" === r.method && r.abrupt(\"return\", r.arg);\n            n = p;\n            var c = l(e, t, r);\n\n            if (\"normal\" === c.type) {\n              if (n = r.done ? d : f, c.arg === v) continue;\n              return {\n                value: c.arg,\n                done: r.done\n              };\n            }\n\n            \"throw\" === c.type && (n = d, r.method = \"throw\", r.arg = c.arg);\n          }\n        };\n      }(e, r, i), o;\n    }\n\n    function l(e, t, r) {\n      try {\n        return {\n          type: \"normal\",\n          arg: e.call(t, r)\n        };\n      } catch (e) {\n        return {\n          type: \"throw\",\n          arg: e\n        };\n      }\n    }\n\n    e.wrap = u;\n    var h = \"suspendedStart\",\n        f = \"suspendedYield\",\n        p = \"executing\",\n        d = \"completed\",\n        v = {};\n\n    function E() {}\n\n    function m() {}\n\n    function y() {}\n\n    var g = {};\n    c(g, i, function () {\n      return this;\n    });\n    var I = Object.getPrototypeOf,\n        w = I && I(I(P([])));\n    w && w !== r && n.call(w, i) && (g = w);\n    var R = y.prototype = E.prototype = Object.create(g);\n\n    function O(e) {\n      [\"next\", \"throw\", \"return\"].forEach(function (t) {\n        c(e, t, function (e) {\n          return this._invoke(t, e);\n        });\n      });\n    }\n\n    function _(e, t) {\n      function r(o, i, s, a) {\n        var c = l(e[o], e, i);\n\n        if (\"throw\" !== c.type) {\n          var u = c.arg,\n              h = u.value;\n          return h && \"object\" == typeof h && n.call(h, \"__await\") ? t.resolve(h.__await).then(function (e) {\n            r(\"next\", e, s, a);\n          }, function (e) {\n            r(\"throw\", e, s, a);\n          }) : t.resolve(h).then(function (e) {\n            u.value = e, s(u);\n          }, function (e) {\n            return r(\"throw\", e, s, a);\n          });\n        }\n\n        a(c.arg);\n      }\n\n      var o;\n\n      this._invoke = function (e, n) {\n        function i() {\n          return new t(function (t, o) {\n            r(e, n, t, o);\n          });\n        }\n\n        return o = o ? o.then(i, i) : i();\n      };\n    }\n\n    function L(e, r) {\n      var n = e.iterator[r.method];\n\n      if (n === t) {\n        if (r.delegate = null, \"throw\" === r.method) {\n          if (e.iterator.return && (r.method = \"return\", r.arg = t, L(e, r), \"throw\" === r.method)) return v;\n          r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n        }\n\n        return v;\n      }\n\n      var o = l(n, e.iterator, r.arg);\n      if (\"throw\" === o.type) return r.method = \"throw\", r.arg = o.arg, r.delegate = null, v;\n      var i = o.arg;\n      return i ? i.done ? (r[e.resultName] = i.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, v) : i : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, v);\n    }\n\n    function N(e) {\n      var t = {\n        tryLoc: e[0]\n      };\n      1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t);\n    }\n\n    function A(e) {\n      var t = e.completion || {};\n      t.type = \"normal\", delete t.arg, e.completion = t;\n    }\n\n    function T(e) {\n      this.tryEntries = [{\n        tryLoc: \"root\"\n      }], e.forEach(N, this), this.reset(!0);\n    }\n\n    function P(e) {\n      if (e) {\n        var r = e[i];\n        if (r) return r.call(e);\n        if (\"function\" == typeof e.next) return e;\n\n        if (!isNaN(e.length)) {\n          var o = -1,\n              s = function r() {\n            for (; ++o < e.length;) if (n.call(e, o)) return r.value = e[o], r.done = !1, r;\n\n            return r.value = t, r.done = !0, r;\n          };\n\n          return s.next = s;\n        }\n      }\n\n      return {\n        next: S\n      };\n    }\n\n    function S() {\n      return {\n        value: t,\n        done: !0\n      };\n    }\n\n    return m.prototype = y, c(R, \"constructor\", y), c(y, \"constructor\", m), m.displayName = c(y, a, \"GeneratorFunction\"), e.isGeneratorFunction = function (e) {\n      var t = \"function\" == typeof e && e.constructor;\n      return !!t && (t === m || \"GeneratorFunction\" === (t.displayName || t.name));\n    }, e.mark = function (e) {\n      return Object.setPrototypeOf ? Object.setPrototypeOf(e, y) : (e.__proto__ = y, c(e, a, \"GeneratorFunction\")), e.prototype = Object.create(R), e;\n    }, e.awrap = function (e) {\n      return {\n        __await: e\n      };\n    }, O(_.prototype), c(_.prototype, s, function () {\n      return this;\n    }), e.AsyncIterator = _, e.async = function (t, r, n, o, i) {\n      void 0 === i && (i = Promise);\n      var s = new _(u(t, r, n, o), i);\n      return e.isGeneratorFunction(r) ? s : s.next().then(function (e) {\n        return e.done ? e.value : s.next();\n      });\n    }, O(R), c(R, a, \"Generator\"), c(R, i, function () {\n      return this;\n    }), c(R, \"toString\", function () {\n      return \"[object Generator]\";\n    }), e.keys = function (e) {\n      var t = [];\n\n      for (var r in e) t.push(r);\n\n      return t.reverse(), function r() {\n        for (; t.length;) {\n          var n = t.pop();\n          if (n in e) return r.value = n, r.done = !1, r;\n        }\n\n        return r.done = !0, r;\n      };\n    }, e.values = P, T.prototype = {\n      constructor: T,\n      reset: function (e) {\n        if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(A), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n      },\n      stop: function () {\n        this.done = !0;\n        var e = this.tryEntries[0].completion;\n        if (\"throw\" === e.type) throw e.arg;\n        return this.rval;\n      },\n      dispatchException: function (e) {\n        if (this.done) throw e;\n        var r = this;\n\n        function o(n, o) {\n          return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n        }\n\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var s = this.tryEntries[i],\n              a = s.completion;\n          if (\"root\" === s.tryLoc) return o(\"end\");\n\n          if (s.tryLoc <= this.prev) {\n            var c = n.call(s, \"catchLoc\"),\n                u = n.call(s, \"finallyLoc\");\n\n            if (c && u) {\n              if (this.prev < s.catchLoc) return o(s.catchLoc, !0);\n              if (this.prev < s.finallyLoc) return o(s.finallyLoc);\n            } else if (c) {\n              if (this.prev < s.catchLoc) return o(s.catchLoc, !0);\n            } else {\n              if (!u) throw new Error(\"try statement without catch or finally\");\n              if (this.prev < s.finallyLoc) return o(s.finallyLoc);\n            }\n          }\n        }\n      },\n      abrupt: function (e, t) {\n        for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n          var o = this.tryEntries[r];\n\n          if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n            var i = o;\n            break;\n          }\n        }\n\n        i && (\"break\" === e || \"continue\" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);\n        var s = i ? i.completion : {};\n        return s.type = e, s.arg = t, i ? (this.method = \"next\", this.next = i.finallyLoc, v) : this.complete(s);\n      },\n      complete: function (e, t) {\n        if (\"throw\" === e.type) throw e.arg;\n        return \"break\" === e.type || \"continue\" === e.type ? this.next = e.arg : \"return\" === e.type ? (this.rval = this.arg = e.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === e.type && t && (this.next = t), v;\n      },\n      finish: function (e) {\n        for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n          var r = this.tryEntries[t];\n          if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), A(r), v;\n        }\n      },\n      catch: function (e) {\n        for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n          var r = this.tryEntries[t];\n\n          if (r.tryLoc === e) {\n            var n = r.completion;\n\n            if (\"throw\" === n.type) {\n              var o = n.arg;\n              A(r);\n            }\n\n            return o;\n          }\n        }\n\n        throw new Error(\"illegal catch attempt\");\n      },\n      delegateYield: function (e, r, n) {\n        return this.delegate = {\n          iterator: P(e),\n          resultName: r,\n          nextLoc: n\n        }, \"next\" === this.method && (this.arg = t), v;\n      }\n    }, e;\n  }(e.exports);\n\n  try {\n    regeneratorRuntime = t;\n  } catch (e) {\n    \"object\" == typeof globalThis ? globalThis.regeneratorRuntime = t : Function(\"r\", \"regeneratorRuntime = r\")(t);\n  }\n});\n\nvar m,\n    y = {\n  SEMVER_SPEC_VERSION: \"2.0.0\",\n  MAX_LENGTH: 256,\n  MAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER || 9007199254740991,\n  MAX_SAFE_COMPONENT_LENGTH: 16\n},\n    g = \"object\" == typeof process && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? function () {\n  var e;\n  return (e = console).error.apply(e, [\"SEMVER\"].concat([].slice.call(arguments)));\n} : function () {},\n    I = (function (e, t) {\n  var r = y.MAX_SAFE_COMPONENT_LENGTH,\n      n = (t = e.exports = {}).re = [],\n      o = t.src = [],\n      i = t.t = {},\n      s = 0,\n      a = function (e, t, r) {\n    var a = s++;\n    g(a, t), i[e] = a, o[a] = t, n[a] = new RegExp(t, r ? \"g\" : void 0);\n  };\n\n  a(\"NUMERICIDENTIFIER\", \"0|[1-9]\\\\d*\"), a(\"NUMERICIDENTIFIERLOOSE\", \"[0-9]+\"), a(\"NONNUMERICIDENTIFIER\", \"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\"), a(\"MAINVERSION\", \"(\" + o[i.NUMERICIDENTIFIER] + \")\\\\.(\" + o[i.NUMERICIDENTIFIER] + \")\\\\.(\" + o[i.NUMERICIDENTIFIER] + \")\"), a(\"MAINVERSIONLOOSE\", \"(\" + o[i.NUMERICIDENTIFIERLOOSE] + \")\\\\.(\" + o[i.NUMERICIDENTIFIERLOOSE] + \")\\\\.(\" + o[i.NUMERICIDENTIFIERLOOSE] + \")\"), a(\"PRERELEASEIDENTIFIER\", \"(?:\" + o[i.NUMERICIDENTIFIER] + \"|\" + o[i.NONNUMERICIDENTIFIER] + \")\"), a(\"PRERELEASEIDENTIFIERLOOSE\", \"(?:\" + o[i.NUMERICIDENTIFIERLOOSE] + \"|\" + o[i.NONNUMERICIDENTIFIER] + \")\"), a(\"PRERELEASE\", \"(?:-(\" + o[i.PRERELEASEIDENTIFIER] + \"(?:\\\\.\" + o[i.PRERELEASEIDENTIFIER] + \")*))\"), a(\"PRERELEASELOOSE\", \"(?:-?(\" + o[i.PRERELEASEIDENTIFIERLOOSE] + \"(?:\\\\.\" + o[i.PRERELEASEIDENTIFIERLOOSE] + \")*))\"), a(\"BUILDIDENTIFIER\", \"[0-9A-Za-z-]+\"), a(\"BUILD\", \"(?:\\\\+(\" + o[i.BUILDIDENTIFIER] + \"(?:\\\\.\" + o[i.BUILDIDENTIFIER] + \")*))\"), a(\"FULLPLAIN\", \"v?\" + o[i.MAINVERSION] + o[i.PRERELEASE] + \"?\" + o[i.BUILD] + \"?\"), a(\"FULL\", \"^\" + o[i.FULLPLAIN] + \"$\"), a(\"LOOSEPLAIN\", \"[v=\\\\s]*\" + o[i.MAINVERSIONLOOSE] + o[i.PRERELEASELOOSE] + \"?\" + o[i.BUILD] + \"?\"), a(\"LOOSE\", \"^\" + o[i.LOOSEPLAIN] + \"$\"), a(\"GTLT\", \"((?:<|>)?=?)\"), a(\"XRANGEIDENTIFIERLOOSE\", o[i.NUMERICIDENTIFIERLOOSE] + \"|x|X|\\\\*\"), a(\"XRANGEIDENTIFIER\", o[i.NUMERICIDENTIFIER] + \"|x|X|\\\\*\"), a(\"XRANGEPLAIN\", \"[v=\\\\s]*(\" + o[i.XRANGEIDENTIFIER] + \")(?:\\\\.(\" + o[i.XRANGEIDENTIFIER] + \")(?:\\\\.(\" + o[i.XRANGEIDENTIFIER] + \")(?:\" + o[i.PRERELEASE] + \")?\" + o[i.BUILD] + \"?)?)?\"), a(\"XRANGEPLAINLOOSE\", \"[v=\\\\s]*(\" + o[i.XRANGEIDENTIFIERLOOSE] + \")(?:\\\\.(\" + o[i.XRANGEIDENTIFIERLOOSE] + \")(?:\\\\.(\" + o[i.XRANGEIDENTIFIERLOOSE] + \")(?:\" + o[i.PRERELEASELOOSE] + \")?\" + o[i.BUILD] + \"?)?)?\"), a(\"XRANGE\", \"^\" + o[i.GTLT] + \"\\\\s*\" + o[i.XRANGEPLAIN] + \"$\"), a(\"XRANGELOOSE\", \"^\" + o[i.GTLT] + \"\\\\s*\" + o[i.XRANGEPLAINLOOSE] + \"$\"), a(\"COERCE\", \"(^|[^\\\\d])(\\\\d{1,\" + r + \"})(?:\\\\.(\\\\d{1,\" + r + \"}))?(?:\\\\.(\\\\d{1,\" + r + \"}))?(?:$|[^\\\\d])\"), a(\"COERCERTL\", o[i.COERCE], !0), a(\"LONETILDE\", \"(?:~>?)\"), a(\"TILDETRIM\", \"(\\\\s*)\" + o[i.LONETILDE] + \"\\\\s+\", !0), t.tildeTrimReplace = \"$1~\", a(\"TILDE\", \"^\" + o[i.LONETILDE] + o[i.XRANGEPLAIN] + \"$\"), a(\"TILDELOOSE\", \"^\" + o[i.LONETILDE] + o[i.XRANGEPLAINLOOSE] + \"$\"), a(\"LONECARET\", \"(?:\\\\^)\"), a(\"CARETTRIM\", \"(\\\\s*)\" + o[i.LONECARET] + \"\\\\s+\", !0), t.caretTrimReplace = \"$1^\", a(\"CARET\", \"^\" + o[i.LONECARET] + o[i.XRANGEPLAIN] + \"$\"), a(\"CARETLOOSE\", \"^\" + o[i.LONECARET] + o[i.XRANGEPLAINLOOSE] + \"$\"), a(\"COMPARATORLOOSE\", \"^\" + o[i.GTLT] + \"\\\\s*(\" + o[i.LOOSEPLAIN] + \")$|^$\"), a(\"COMPARATOR\", \"^\" + o[i.GTLT] + \"\\\\s*(\" + o[i.FULLPLAIN] + \")$|^$\"), a(\"COMPARATORTRIM\", \"(\\\\s*)\" + o[i.GTLT] + \"\\\\s*(\" + o[i.LOOSEPLAIN] + \"|\" + o[i.XRANGEPLAIN] + \")\", !0), t.comparatorTrimReplace = \"$1$2$3\", a(\"HYPHENRANGE\", \"^\\\\s*(\" + o[i.XRANGEPLAIN] + \")\\\\s+-\\\\s+(\" + o[i.XRANGEPLAIN] + \")\\\\s*$\"), a(\"HYPHENRANGELOOSE\", \"^\\\\s*(\" + o[i.XRANGEPLAINLOOSE] + \")\\\\s+-\\\\s+(\" + o[i.XRANGEPLAINLOOSE] + \")\\\\s*$\"), a(\"STAR\", \"(<|>)?=?\\\\s*\\\\*\"), a(\"GTE0\", \"^\\\\s*>=\\\\s*0.0.0\\\\s*$\"), a(\"GTE0PRE\", \"^\\\\s*>=\\\\s*0.0.0-0\\\\s*$\");\n}(m = {\n  exports: {}\n}, m.exports), m.exports),\n    w = /^[0-9]+$/,\n    R = y.MAX_LENGTH,\n    O = y.MAX_SAFE_INTEGER,\n    _ = I.re,\n    L = I.t,\n    N = function (e, t) {\n  var r = w.test(e),\n      n = w.test(t);\n  return r && n && (e = +e, t = +t), e === t ? 0 : r && !n ? -1 : n && !r ? 1 : e < t ? -1 : 1;\n},\n    A = function () {\n  function e(t, r) {\n    if (r && \"object\" == typeof r || (r = {\n      loose: !!r,\n      includePrerelease: !1\n    }), t instanceof e) {\n      if (t.loose === !!r.loose && t.includePrerelease === !!r.includePrerelease) return t;\n      t = t.version;\n    } else if (\"string\" != typeof t) throw new TypeError(\"Invalid Version: \" + t);\n\n    if (t.length > R) throw new TypeError(\"version is longer than \" + R + \" characters\");\n    g(\"SemVer\", t, r), this.options = r, this.loose = !!r.loose, this.includePrerelease = !!r.includePrerelease;\n    var n = t.trim().match(r.loose ? _[L.LOOSE] : _[L.FULL]);\n    if (!n) throw new TypeError(\"Invalid Version: \" + t);\n    if (this.raw = t, this.major = +n[1], this.minor = +n[2], this.patch = +n[3], this.major > O || this.major < 0) throw new TypeError(\"Invalid major version\");\n    if (this.minor > O || this.minor < 0) throw new TypeError(\"Invalid minor version\");\n    if (this.patch > O || this.patch < 0) throw new TypeError(\"Invalid patch version\");\n    this.prerelease = n[4] ? n[4].split(\".\").map(function (e) {\n      if (/^[0-9]+$/.test(e)) {\n        var t = +e;\n        if (t >= 0 && t < O) return t;\n      }\n\n      return e;\n    }) : [], this.build = n[5] ? n[5].split(\".\") : [], this.format();\n  }\n\n  var t = e.prototype;\n  return t.format = function () {\n    return this.version = this.major + \".\" + this.minor + \".\" + this.patch, this.prerelease.length && (this.version += \"-\" + this.prerelease.join(\".\")), this.version;\n  }, t.toString = function () {\n    return this.version;\n  }, t.compare = function (t) {\n    if (g(\"SemVer.compare\", this.version, this.options, t), !(t instanceof e)) {\n      if (\"string\" == typeof t && t === this.version) return 0;\n      t = new e(t, this.options);\n    }\n\n    return t.version === this.version ? 0 : this.compareMain(t) || this.comparePre(t);\n  }, t.compareMain = function (t) {\n    return t instanceof e || (t = new e(t, this.options)), N(this.major, t.major) || N(this.minor, t.minor) || N(this.patch, t.patch);\n  }, t.comparePre = function (t) {\n    if (t instanceof e || (t = new e(t, this.options)), this.prerelease.length && !t.prerelease.length) return -1;\n    if (!this.prerelease.length && t.prerelease.length) return 1;\n    if (!this.prerelease.length && !t.prerelease.length) return 0;\n    var r = 0;\n\n    do {\n      var n = this.prerelease[r],\n          o = t.prerelease[r];\n      if (g(\"prerelease compare\", r, n, o), void 0 === n && void 0 === o) return 0;\n      if (void 0 === o) return 1;\n      if (void 0 === n) return -1;\n      if (n !== o) return N(n, o);\n    } while (++r);\n  }, t.compareBuild = function (t) {\n    t instanceof e || (t = new e(t, this.options));\n    var r = 0;\n\n    do {\n      var n = this.build[r],\n          o = t.build[r];\n      if (g(\"prerelease compare\", r, n, o), void 0 === n && void 0 === o) return 0;\n      if (void 0 === o) return 1;\n      if (void 0 === n) return -1;\n      if (n !== o) return N(n, o);\n    } while (++r);\n  }, t.inc = function (e, t) {\n    switch (e) {\n      case \"premajor\":\n        this.prerelease.length = 0, this.patch = 0, this.minor = 0, this.major++, this.inc(\"pre\", t);\n        break;\n\n      case \"preminor\":\n        this.prerelease.length = 0, this.patch = 0, this.minor++, this.inc(\"pre\", t);\n        break;\n\n      case \"prepatch\":\n        this.prerelease.length = 0, this.inc(\"patch\", t), this.inc(\"pre\", t);\n        break;\n\n      case \"prerelease\":\n        0 === this.prerelease.length && this.inc(\"patch\", t), this.inc(\"pre\", t);\n        break;\n\n      case \"major\":\n        0 === this.minor && 0 === this.patch && 0 !== this.prerelease.length || this.major++, this.minor = 0, this.patch = 0, this.prerelease = [];\n        break;\n\n      case \"minor\":\n        0 === this.patch && 0 !== this.prerelease.length || this.minor++, this.patch = 0, this.prerelease = [];\n        break;\n\n      case \"patch\":\n        0 === this.prerelease.length && this.patch++, this.prerelease = [];\n        break;\n\n      case \"pre\":\n        if (0 === this.prerelease.length) this.prerelease = [0];else {\n          for (var r = this.prerelease.length; --r >= 0;) \"number\" == typeof this.prerelease[r] && (this.prerelease[r]++, r = -2);\n\n          -1 === r && this.prerelease.push(0);\n        }\n        t && (this.prerelease[0] === t ? isNaN(this.prerelease[1]) && (this.prerelease = [t, 0]) : this.prerelease = [t, 0]);\n        break;\n\n      default:\n        throw new Error(\"invalid increment argument: \" + e);\n    }\n\n    return this.format(), this.raw = this.version, this;\n  }, e;\n}(),\n    T = function (e, t, r) {\n  return new A(e, r).compare(new A(t, r));\n},\n    P = function (e, t, r, n) {\n  switch (t) {\n    case \"===\":\n      return \"object\" == typeof e && (e = e.version), \"object\" == typeof r && (r = r.version), e === r;\n\n    case \"!==\":\n      return \"object\" == typeof e && (e = e.version), \"object\" == typeof r && (r = r.version), e !== r;\n\n    case \"\":\n    case \"=\":\n    case \"==\":\n      return function (e, t, r) {\n        return 0 === T(e, t, r);\n      }(e, r, n);\n\n    case \"!=\":\n      return function (e, t, r) {\n        return 0 !== T(e, t, r);\n      }(e, r, n);\n\n    case \">\":\n      return function (e, t, r) {\n        return T(e, t, r) > 0;\n      }(e, r, n);\n\n    case \">=\":\n      return function (e, t, r) {\n        return T(e, t, r) >= 0;\n      }(e, r, n);\n\n    case \"<\":\n      return function (e, t, r) {\n        return T(e, t, r) < 0;\n      }(e, r, n);\n\n    case \"<=\":\n      return function (e, t, r) {\n        return T(e, t, r) <= 0;\n      }(e, r, n);\n\n    default:\n      throw new TypeError(\"Invalid operator: \" + t);\n  }\n},\n    S = Symbol(\"SemVer ANY\"),\n    b = function () {\n  function e(t, r) {\n    if (r && \"object\" == typeof r || (r = {\n      loose: !!r,\n      includePrerelease: !1\n    }), t instanceof e) {\n      if (t.loose === !!r.loose) return t;\n      t = t.value;\n    }\n\n    g(\"comparator\", t, r), this.options = r, this.loose = !!r.loose, this.parse(t), this.value = this.semver === S ? \"\" : this.operator + this.semver.version, g(\"comp\", this);\n  }\n\n  var t = e.prototype;\n  return t.parse = function (e) {\n    var t = e.match(this.options.loose ? M[j.COMPARATORLOOSE] : M[j.COMPARATOR]);\n    if (!t) throw new TypeError(\"Invalid comparator: \" + e);\n    this.operator = void 0 !== t[1] ? t[1] : \"\", \"=\" === this.operator && (this.operator = \"\"), this.semver = t[2] ? new A(t[2], this.options.loose) : S;\n  }, t.toString = function () {\n    return this.value;\n  }, t.test = function (e) {\n    if (g(\"Comparator.test\", e, this.options.loose), this.semver === S || e === S) return !0;\n    if (\"string\" == typeof e) try {\n      e = new A(e, this.options);\n    } catch (e) {\n      return !1;\n    }\n    return P(e, this.operator, this.semver, this.options);\n  }, t.intersects = function (t, r) {\n    if (!(t instanceof e)) throw new TypeError(\"a Comparator is required\");\n    if (r && \"object\" == typeof r || (r = {\n      loose: !!r,\n      includePrerelease: !1\n    }), \"\" === this.operator) return \"\" === this.value || new C(t.value, r).test(this.value);\n    if (\"\" === t.operator) return \"\" === t.value || new C(this.value, r).test(t.semver);\n    var n = !(\">=\" !== this.operator && \">\" !== this.operator || \">=\" !== t.operator && \">\" !== t.operator),\n        o = !(\"<=\" !== this.operator && \"<\" !== this.operator || \"<=\" !== t.operator && \"<\" !== t.operator),\n        i = this.semver.version === t.semver.version,\n        s = !(\">=\" !== this.operator && \"<=\" !== this.operator || \">=\" !== t.operator && \"<=\" !== t.operator),\n        a = P(this.semver, \"<\", t.semver, r) && (\">=\" === this.operator || \">\" === this.operator) && (\"<=\" === t.operator || \"<\" === t.operator),\n        c = P(this.semver, \">\", t.semver, r) && (\"<=\" === this.operator || \"<\" === this.operator) && (\">=\" === t.operator || \">\" === t.operator);\n    return n || o || i && s || a || c;\n  }, c(e, null, [{\n    key: \"ANY\",\n    get: function () {\n      return S;\n    }\n  }]), e;\n}(),\n    M = I.re,\n    j = I.t,\n    C = function () {\n  function e(t, r) {\n    var n = this;\n    if (r && \"object\" == typeof r || (r = {\n      loose: !!r,\n      includePrerelease: !1\n    }), t instanceof e) return t.loose === !!r.loose && t.includePrerelease === !!r.includePrerelease ? t : new e(t.raw, r);\n    if (t instanceof b) return this.raw = t.value, this.set = [[t]], this.format(), this;\n    if (this.options = r, this.loose = !!r.loose, this.includePrerelease = !!r.includePrerelease, this.raw = t, this.set = t.split(/\\s*\\|\\|\\s*/).map(function (e) {\n      return n.parseRange(e.trim());\n    }).filter(function (e) {\n      return e.length;\n    }), !this.set.length) throw new TypeError(\"Invalid SemVer Range: \" + t);\n    this.format();\n  }\n\n  var t = e.prototype;\n  return t.format = function () {\n    return this.range = this.set.map(function (e) {\n      return e.join(\" \").trim();\n    }).join(\"||\").trim(), this.range;\n  }, t.toString = function () {\n    return this.range;\n  }, t.parseRange = function (e) {\n    var t = this,\n        r = this.options.loose;\n    e = (e = e.trim()).replace(r ? x[k.HYPHENRANGELOOSE] : x[k.HYPHENRANGE], J(this.options.includePrerelease)), g(\"hyphen replace\", e), e = e.replace(x[k.COMPARATORTRIM], D), g(\"comparator trim\", e, x[k.COMPARATORTRIM]), e = (e = (e = e.replace(x[k.TILDETRIM], G)).replace(x[k.CARETTRIM], F)).split(/\\s+/).join(\" \");\n    var n = r ? x[k.COMPARATORLOOSE] : x[k.COMPARATOR];\n    return e.split(\" \").map(function (e) {\n      return X(e, t.options);\n    }).join(\" \").split(/\\s+/).map(function (e) {\n      return z(e, t.options);\n    }).filter(this.options.loose ? function (e) {\n      return !!e.match(n);\n    } : function () {\n      return !0;\n    }).map(function (e) {\n      return new b(e, t.options);\n    });\n  }, t.intersects = function (t, r) {\n    if (!(t instanceof e)) throw new TypeError(\"a Range is required\");\n    return this.set.some(function (e) {\n      return U(e, r) && t.set.some(function (t) {\n        return U(t, r) && e.every(function (e) {\n          return t.every(function (t) {\n            return e.intersects(t, r);\n          });\n        });\n      });\n    });\n  }, t.test = function (e) {\n    if (!e) return !1;\n    if (\"string\" == typeof e) try {\n      e = new A(e, this.options);\n    } catch (e) {\n      return !1;\n    }\n\n    for (var t = 0; t < this.set.length; t++) if (Q(this.set[t], e, this.options)) return !0;\n\n    return !1;\n  }, e;\n}(),\n    x = I.re,\n    k = I.t,\n    D = I.comparatorTrimReplace,\n    G = I.tildeTrimReplace,\n    F = I.caretTrimReplace,\n    U = function (e, t) {\n  for (var r = !0, n = e.slice(), o = n.pop(); r && n.length;) r = n.every(function (e) {\n    return o.intersects(e, t);\n  }), o = n.pop();\n\n  return r;\n},\n    X = function (e, t) {\n  return g(\"comp\", e, t), e = q(e, t), g(\"caret\", e), e = V(e, t), g(\"tildes\", e), e = W(e, t), g(\"xrange\", e), e = Y(e, t), g(\"stars\", e), e;\n},\n    H = function (e) {\n  return !e || \"x\" === e.toLowerCase() || \"*\" === e;\n},\n    V = function (e, t) {\n  return e.trim().split(/\\s+/).map(function (e) {\n    return $(e, t);\n  }).join(\" \");\n},\n    $ = function (e, t) {\n  return e.replace(t.loose ? x[k.TILDELOOSE] : x[k.TILDE], function (t, r, n, o, i) {\n    var s;\n    return g(\"tilde\", e, t, r, n, o, i), H(r) ? s = \"\" : H(n) ? s = \">=\" + r + \".0.0 <\" + (+r + 1) + \".0.0-0\" : H(o) ? s = \">=\" + r + \".\" + n + \".0 <\" + r + \".\" + (+n + 1) + \".0-0\" : i ? (g(\"replaceTilde pr\", i), s = \">=\" + r + \".\" + n + \".\" + o + \"-\" + i + \" <\" + r + \".\" + (+n + 1) + \".0-0\") : s = \">=\" + r + \".\" + n + \".\" + o + \" <\" + r + \".\" + (+n + 1) + \".0-0\", g(\"tilde return\", s), s;\n  });\n},\n    q = function (e, t) {\n  return e.trim().split(/\\s+/).map(function (e) {\n    return K(e, t);\n  }).join(\" \");\n},\n    K = function (e, t) {\n  g(\"caret\", e, t);\n  var r = t.includePrerelease ? \"-0\" : \"\";\n  return e.replace(t.loose ? x[k.CARETLOOSE] : x[k.CARET], function (t, n, o, i, s) {\n    var a;\n    return g(\"caret\", e, t, n, o, i, s), H(n) ? a = \"\" : H(o) ? a = \">=\" + n + \".0.0\" + r + \" <\" + (+n + 1) + \".0.0-0\" : H(i) ? a = \"0\" === n ? \">=\" + n + \".\" + o + \".0\" + r + \" <\" + n + \".\" + (+o + 1) + \".0-0\" : \">=\" + n + \".\" + o + \".0\" + r + \" <\" + (+n + 1) + \".0.0-0\" : s ? (g(\"replaceCaret pr\", s), a = \"0\" === n ? \"0\" === o ? \">=\" + n + \".\" + o + \".\" + i + \"-\" + s + \" <\" + n + \".\" + o + \".\" + (+i + 1) + \"-0\" : \">=\" + n + \".\" + o + \".\" + i + \"-\" + s + \" <\" + n + \".\" + (+o + 1) + \".0-0\" : \">=\" + n + \".\" + o + \".\" + i + \"-\" + s + \" <\" + (+n + 1) + \".0.0-0\") : (g(\"no pr\"), a = \"0\" === n ? \"0\" === o ? \">=\" + n + \".\" + o + \".\" + i + r + \" <\" + n + \".\" + o + \".\" + (+i + 1) + \"-0\" : \">=\" + n + \".\" + o + \".\" + i + r + \" <\" + n + \".\" + (+o + 1) + \".0-0\" : \">=\" + n + \".\" + o + \".\" + i + \" <\" + (+n + 1) + \".0.0-0\"), g(\"caret return\", a), a;\n  });\n},\n    W = function (e, t) {\n  return g(\"replaceXRanges\", e, t), e.split(/\\s+/).map(function (e) {\n    return B(e, t);\n  }).join(\" \");\n},\n    B = function (e, t) {\n  return (e = e.trim()).replace(t.loose ? x[k.XRANGELOOSE] : x[k.XRANGE], function (r, n, o, i, s, a) {\n    g(\"xRange\", e, r, n, o, i, s, a);\n    var c = H(o),\n        u = c || H(i),\n        l = u || H(s);\n    return \"=\" === n && l && (n = \"\"), a = t.includePrerelease ? \"-0\" : \"\", c ? r = \">\" === n || \"<\" === n ? \"<0.0.0-0\" : \"*\" : n && l ? (u && (i = 0), s = 0, \">\" === n ? (n = \">=\", u ? (o = +o + 1, i = 0, s = 0) : (i = +i + 1, s = 0)) : \"<=\" === n && (n = \"<\", u ? o = +o + 1 : i = +i + 1), \"<\" === n && (a = \"-0\"), r = n + o + \".\" + i + \".\" + s + a) : u ? r = \">=\" + o + \".0.0\" + a + \" <\" + (+o + 1) + \".0.0-0\" : l && (r = \">=\" + o + \".\" + i + \".0\" + a + \" <\" + o + \".\" + (+i + 1) + \".0-0\"), g(\"xRange return\", r), r;\n  });\n},\n    Y = function (e, t) {\n  return g(\"replaceStars\", e, t), e.trim().replace(x[k.STAR], \"\");\n},\n    z = function (e, t) {\n  return g(\"replaceGTE0\", e, t), e.trim().replace(x[t.includePrerelease ? k.GTE0PRE : k.GTE0], \"\");\n},\n    J = function (e) {\n  return function (t, r, n, o, i, s, a, c, u, l, h, f, p) {\n    return ((r = H(n) ? \"\" : H(o) ? \">=\" + n + \".0.0\" + (e ? \"-0\" : \"\") : H(i) ? \">=\" + n + \".\" + o + \".0\" + (e ? \"-0\" : \"\") : s ? \">=\" + r : \">=\" + r + (e ? \"-0\" : \"\")) + \" \" + (c = H(u) ? \"\" : H(l) ? \"<\" + (+u + 1) + \".0.0-0\" : H(h) ? \"<\" + u + \".\" + (+l + 1) + \".0-0\" : f ? \"<=\" + u + \".\" + l + \".\" + h + \"-\" + f : e ? \"<\" + u + \".\" + l + \".\" + (+h + 1) + \"-0\" : \"<=\" + c)).trim();\n  };\n},\n    Q = function (e, t, r) {\n  for (var n = 0; n < e.length; n++) if (!e[n].test(t)) return !1;\n\n  if (t.prerelease.length && !r.includePrerelease) {\n    for (var o = 0; o < e.length; o++) if (g(e[o].semver), e[o].semver !== b.ANY && e[o].semver.prerelease.length > 0) {\n      var i = e[o].semver;\n      if (i.major === t.major && i.minor === t.minor && i.patch === t.patch) return !0;\n    }\n\n    return !1;\n  }\n\n  return !0;\n},\n    Z = y.MAX_LENGTH,\n    ee = I.re,\n    te = I.t,\n    re = I.re,\n    ne = I.t;\n\nfunction oe(e) {\n  return String.fromCharCode(parseInt(e.slice(1), 16));\n}\n\nfunction ie(e) {\n  return \"%\" + (\"00\" + e.charCodeAt(0).toString(16)).slice(-2);\n}\n\nfunction se(e) {\n  return t = JSON.stringify(e), btoa(encodeURIComponent(t).replace(/%[0-9A-F]{2}/g, oe));\n  var t;\n}\n\nfunction ae(e) {\n  return JSON.parse(decodeURIComponent(Array.from(atob(e), ie).join(\"\")));\n}\n\nfunction ce(e) {\n  return void 0 === e;\n}\n\nfunction ue(e) {\n  return function (e) {\n    return null === e;\n  }(e) || ce(e);\n}\n\nfunction le(e) {\n  return !ue(e) && !(ce(e.jsonrpc) || ce(e.id) || ce(e.method) || ce(e.params));\n}\n\nfunction he(e) {\n  return !ue(e) && !(ce(e.jsonrpc) || ce(e.id) || ce(e.result) && ce(e.error));\n}\n\nfunction fe(t) {\n  return !ue(t) && \"string\" == typeof t && Object.values(e).includes(t);\n}\n\nfunction pe(e) {\n  return !ue(e) && \"number\" == typeof e && Object.values(t).includes(e);\n}\n\nfunction de(e) {\n  if (!e) return !0;\n\n  for (var t in e) if (Object.hasOwnProperty.call(e, t)) return !1;\n\n  return !0;\n}\n\nvar ve = {};\n\nfunction Ee(e, t) {\n  return Object.assign(ve, t), e;\n}\n\nvar me = {\n  \"magic-sdk\": \"magic-sdk\",\n  \"@magic-sdk/react-native\": \"magic-sdk-rn\"\n},\n    ye = function (e) {\n  function t(r, n) {\n    var o;\n    return (o = e.call(this, \"Magic SDK Error: [\" + r + \"] \" + n) || this).code = void 0, o.rawMessage = void 0, o.__proto__ = Error, o.code = r, o.rawMessage = n, Object.setPrototypeOf(E(o), t.prototype), o;\n  }\n\n  return l(t, e), t;\n}(v(Error)),\n    ge = function (e) {\n  function r(n) {\n    var o;\n    (o = e.call(this) || this).__proto__ = Error, o.code = void 0, o.rawMessage = void 0;\n    var i = Number(null == n ? void 0 : n.code);\n    return o.rawMessage = (null == n ? void 0 : n.message) || \"Internal error\", o.code = pe(i) ? i : t.InternalError, o.message = \"Magic RPC Error: [\" + o.code + \"] \" + o.rawMessage, Object.setPrototypeOf(E(o), r.prototype), o;\n  }\n\n  return l(r, e), r;\n}(v(Error)),\n    Ie = function () {\n  function e(e, t) {\n    this.code = void 0, this.rawMessage = void 0, this.message = void 0, this.code = e, this.rawMessage = t, this.message = \"Magic SDK Warning: [\" + e + \"] \" + t;\n  }\n\n  return e.prototype.log = function () {\n    console.warn(this.message);\n  }, e;\n}(),\n    we = function (e) {\n  function t(r, n, o, i) {\n    var s;\n    return (s = e.call(this, \"Magic Extension Error (\" + r.name + \"): [\" + n + \"] \" + o) || this).code = void 0, s.rawMessage = void 0, s.data = void 0, s.__proto__ = Error, s.code = n, s.rawMessage = o, s.data = i, Object.setPrototypeOf(E(s), t.prototype), s;\n  }\n\n  return l(t, e), t;\n}(v(Error)),\n    Re = function () {\n  function e(e, t, r) {\n    this.code = void 0, this.rawMessage = void 0, this.message = void 0, this.code = t, this.rawMessage = r, this.message = \"Magic Extension Warning (\" + e.name + \"): [\" + t + \"] \" + r;\n  }\n\n  return e.prototype.log = function () {\n    console.warn(this.message);\n  }, e;\n}();\n\nfunction Oe() {\n  return new ye(r.MissingApiKey, \"Please provide an API key that you acquired from the Magic developer dashboard.\");\n}\n\nfunction _e() {\n  return new ye(r.ModalNotReady, \"Modal is not ready.\");\n}\n\nfunction Le() {\n  return new ye(r.MalformedResponse, \"Response from the Magic iframe is malformed.\");\n}\n\nfunction Ne(e) {\n  return new ye(r.ExtensionNotInitialized, \"Extensions must be initialized with a Magic SDK instance before `Extension.\" + e + \"` can be accessed. Do not invoke `Extension.\" + e + \"` inside an extension constructor.\");\n}\n\nfunction Ae(e) {\n  var t = \"Some extensions are incompatible with `\" + ve.sdkName + \"@\" + ve.version + \"`:\";\n  return e.filter(function (e) {\n    return null != e.compat;\n  }).forEach(function (e) {\n    var r = e.compat[ve.sdkName];\n    \"string\" == typeof r ? t += \"\\n  - Extension `\" + e.name + \"` supports version(s) `\" + r + \"`\" : r || (t += \"\\n  - Extension `\" + e.name + \"` does not support \" + ve.platform + \" environments.\");\n  }), new ye(r.IncompatibleExtensions, t);\n}\n\nfunction Te(e) {\n  var t, n, o;\n  return new ye(r.InvalidArgument, \"Invalid \" + (o = (t = e.argument + 1) % 100, (1 == (n = t % 10) && 11 !== o ? t + \"st\" : 2 === n && 12 !== o ? t + \"nd\" : 3 === n && 13 !== o ? t + \"rd\" : t + \"th\") + \" argument given to `\") + e.procedure + \"`.\\n  Expected: `\" + e.expected + \"`\\n  Received: `\" + e.received + \"`\");\n}\n\nfunction Pe() {\n  return new Ie(n.DuplicateIframe, \"Duplicate iframes found.\");\n}\n\nfunction Se() {\n  return new Ie(n.SyncWeb3Method, \"Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.\");\n}\n\nfunction be() {\n  return new Ie(n.ReactNativeEndpointConfiguration, \"CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The `endpoint` parameter SHOULD NOT be provided. The Magic `<iframe>` is automatically wrapped by a WebView pointed at `\" + ve.defaultEndpoint + \"`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.\");\n}\n\nfunction Me(e) {\n  var t = e.useInstead;\n  return new Ie(n.DeprecationNotice, \"`\" + e.method + \"` will be removed from `\" + ve.sdkName + \"` in version `\" + e.removalVersions[ve.sdkName] + \"`.\" + (t ? \" Use `\" + t + \"` instead.\" : \"\"));\n}\n\nvar je = _regeneratorRuntime.mark(Ce);\n\nfunction Ce() {\n  var e;\n  return _regeneratorRuntime.wrap(function (t) {\n    for (;;) switch (t.prev = t.next) {\n      case 0:\n        e = 0;\n\n      case 1:\n        if (!(e < Number.MAX_SAFE_INTEGER)) {\n          t.next = 7;\n          break;\n        }\n\n        return t.next = 5, ++e;\n\n      case 5:\n        t.next = 8;\n        break;\n\n      case 7:\n        e = 0;\n\n      case 8:\n        t.next = 1;\n        break;\n\n      case 10:\n      case \"end\":\n        return t.stop();\n    }\n  }, je);\n}\n\nvar xe = Ce();\n\nfunction ke() {\n  return xe.next().value;\n}\n\nvar De = Symbol(\"Payload pre-processed by Magic SDK\");\n\nfunction Ge(e) {\n  return Object.defineProperty(e, De, {\n    value: !0,\n    enumerable: !1\n  }), e;\n}\n\nfunction Fe(e) {\n  var t, r, n;\n  return function (e) {\n    return !!e[De];\n  }(e) || (e.jsonrpc = null != (t = e.jsonrpc) ? t : \"2.0\", e.id = ke(), e.method = null != (r = e.method) ? r : \"noop\", e.params = null != (n = e.params) ? n : [], Ge(e)), e;\n}\n\nfunction Ue(e, t) {\n  return void 0 === t && (t = []), Ge({\n    params: t,\n    method: e,\n    jsonrpc: \"2.0\",\n    id: ke()\n  });\n}\n\nvar Xe = function () {\n  function e(t) {\n    this._jsonrpc = void 0, this._id = void 0, this._result = void 0, this._error = void 0, t instanceof e ? (this._jsonrpc = t.payload.jsonrpc, this._id = t.payload.id, this._result = t.payload.result, this._error = t.payload.error) : he(t) ? (this._jsonrpc = t.jsonrpc, this._id = t.id, this._result = t.result, this._error = t.error) : (this._jsonrpc = t.jsonrpc, this._id = t.id, this._result = void 0, this._error = void 0);\n  }\n\n  var t = e.prototype;\n  return t.applyError = function (e) {\n    return this._error = e, this;\n  }, t.applyResult = function (e) {\n    return this._result = e, this;\n  }, c(e, [{\n    key: \"hasError\",\n    get: function () {\n      return null != this._error;\n    }\n  }, {\n    key: \"hasResult\",\n    get: function () {\n      return void 0 !== this._result;\n    }\n  }, {\n    key: \"payload\",\n    get: function () {\n      return {\n        jsonrpc: this._jsonrpc,\n        id: this._id,\n        result: this._result,\n        error: this._error\n      };\n    }\n  }]), e;\n}(),\n    He = function (e) {\n  function t() {\n    return e.apply(this, arguments) || this;\n  }\n\n  return l(t, e), t;\n}(s(function (e) {\n  var t = Object.prototype.hasOwnProperty,\n      r = \"~\";\n\n  function n() {}\n\n  function o(e, t, r) {\n    this.fn = e, this.context = t, this.once = r || !1;\n  }\n\n  function i(e, t, n, i, s) {\n    if (\"function\" != typeof n) throw new TypeError(\"The listener must be a function\");\n    var a = new o(n, i || e, s),\n        c = r ? r + t : t;\n    return e._events[c] ? e._events[c].fn ? e._events[c] = [e._events[c], a] : e._events[c].push(a) : (e._events[c] = a, e._eventsCount++), e;\n  }\n\n  function s(e, t) {\n    0 == --e._eventsCount ? e._events = new n() : delete e._events[t];\n  }\n\n  function a() {\n    this._events = new n(), this._eventsCount = 0;\n  }\n\n  Object.create && (n.prototype = Object.create(null), new n().__proto__ || (r = !1)), a.prototype.eventNames = function () {\n    var e,\n        n,\n        o = [];\n    if (0 === this._eventsCount) return o;\n\n    for (n in e = this._events) t.call(e, n) && o.push(r ? n.slice(1) : n);\n\n    return Object.getOwnPropertySymbols ? o.concat(Object.getOwnPropertySymbols(e)) : o;\n  }, a.prototype.listeners = function (e) {\n    var t = this._events[r ? r + e : e];\n    if (!t) return [];\n    if (t.fn) return [t.fn];\n\n    for (var n = 0, o = t.length, i = new Array(o); n < o; n++) i[n] = t[n].fn;\n\n    return i;\n  }, a.prototype.listenerCount = function (e) {\n    var t = this._events[r ? r + e : e];\n    return t ? t.fn ? 1 : t.length : 0;\n  }, a.prototype.emit = function (e, t, n, o, i, s) {\n    var a = r ? r + e : e;\n    if (!this._events[a]) return !1;\n    var c,\n        u,\n        l = this._events[a],\n        h = arguments.length;\n\n    if (l.fn) {\n      switch (l.once && this.removeListener(e, l.fn, void 0, !0), h) {\n        case 1:\n          return l.fn.call(l.context), !0;\n\n        case 2:\n          return l.fn.call(l.context, t), !0;\n\n        case 3:\n          return l.fn.call(l.context, t, n), !0;\n\n        case 4:\n          return l.fn.call(l.context, t, n, o), !0;\n\n        case 5:\n          return l.fn.call(l.context, t, n, o, i), !0;\n\n        case 6:\n          return l.fn.call(l.context, t, n, o, i, s), !0;\n      }\n\n      for (u = 1, c = new Array(h - 1); u < h; u++) c[u - 1] = arguments[u];\n\n      l.fn.apply(l.context, c);\n    } else {\n      var f,\n          p = l.length;\n\n      for (u = 0; u < p; u++) switch (l[u].once && this.removeListener(e, l[u].fn, void 0, !0), h) {\n        case 1:\n          l[u].fn.call(l[u].context);\n          break;\n\n        case 2:\n          l[u].fn.call(l[u].context, t);\n          break;\n\n        case 3:\n          l[u].fn.call(l[u].context, t, n);\n          break;\n\n        case 4:\n          l[u].fn.call(l[u].context, t, n, o);\n          break;\n\n        default:\n          if (!c) for (f = 1, c = new Array(h - 1); f < h; f++) c[f - 1] = arguments[f];\n          l[u].fn.apply(l[u].context, c);\n      }\n    }\n\n    return !0;\n  }, a.prototype.on = function (e, t, r) {\n    return i(this, e, t, r, !1);\n  }, a.prototype.once = function (e, t, r) {\n    return i(this, e, t, r, !0);\n  }, a.prototype.removeListener = function (e, t, n, o) {\n    var i = r ? r + e : e;\n    if (!this._events[i]) return this;\n    if (!t) return s(this, i), this;\n    var a = this._events[i];\n    if (a.fn) a.fn !== t || o && !a.once || n && a.context !== n || s(this, i);else {\n      for (var c = 0, u = [], l = a.length; c < l; c++) (a[c].fn !== t || o && !a[c].once || n && a[c].context !== n) && u.push(a[c]);\n\n      u.length ? this._events[i] = 1 === u.length ? u[0] : u : s(this, i);\n    }\n    return this;\n  }, a.prototype.removeAllListeners = function (e) {\n    var t;\n    return e ? this._events[t = r ? r + e : e] && s(this, t) : (this._events = new n(), this._eventsCount = 0), this;\n  }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prefixed = r, a.EventEmitter = a, e.exports = a;\n}));\n\nfunction Ve() {\n  var e = new He();\n  return {\n    emitter: e,\n    createChainingEmitterMethod: function (t, r) {\n      return function () {\n        return e[t].apply(e, [].slice.call(arguments)), r;\n      };\n    },\n    createBoundEmitterMethod: function (t) {\n      return function () {\n        return e[t].apply(e, [].slice.call(arguments));\n      };\n    }\n  };\n}\n\nvar $e = Symbol(\"isPromiEvent\");\n\nfunction qe(e) {\n  return !!e[$e];\n}\n\nfunction Ke(e) {\n  var t = We(e),\n      r = Ve(),\n      n = r.createBoundEmitterMethod,\n      o = r.createChainingEmitterMethod,\n      i = Symbol(\"Promise.then\"),\n      s = Symbol(\"Promise.catch\"),\n      a = Symbol(\"Promise.finally\"),\n      c = function (e, t) {\n    return function () {\n      var r = t[e].apply(t, [].slice.call(arguments));\n      return u(r);\n    };\n  },\n      u = function (e) {\n    var t;\n    return Object.assign(e, ((t = {})[$e] = !0, t[i] = e[i] || e.then, t[s] = e[s] || e.catch, t[a] = e[a] || e.finally, t.then = c(i, e), t.catch = c(s, e), t.finally = c(a, e), t.on = o(\"on\", e), t.once = o(\"once\", e), t.addListener = o(\"addListener\", e), t.off = o(\"off\", e), t.removeListener = o(\"removeListener\", e), t.removeAllListeners = o(\"removeAllListeners\", e), t.emit = n(\"emit\"), t.eventNames = n(\"eventNames\"), t.listeners = n(\"listeners\"), t.listenerCount = n(\"listenerCount\"), t));\n  },\n      l = u(t.then(function (e) {\n    return l.emit(\"done\", e), l.emit(\"settled\"), e;\n  }, function (e) {\n    throw l.emit(\"error\", e), l.emit(\"settled\"), e;\n  }));\n\n  return l;\n}\n\nfunction We(e) {\n  return new Promise(function (t, r) {\n    var n = e(t, r);\n    Promise.resolve(n).catch(r);\n  });\n}\n\nvar Be,\n    Ye = function () {\n  function e(e) {\n    this.sdk = void 0, this.sdk = e;\n  }\n\n  return e.prototype.request = function (e) {\n    var t = this.overlay.post(o.MAGIC_HANDLE_REQUEST, Fe(e)),\n        r = Ke(function (e, r) {\n      t.then(function (t) {\n        if (n(), t.hasError) r(new ge(t.payload.error));else {\n          if (!t.hasResult) throw Le();\n          e(t.payload.result);\n        }\n      }).catch(function (e) {\n        n(), r(e);\n      });\n    }),\n        n = this.overlay.on(i.MAGIC_HANDLE_EVENT, function (t) {\n      var n,\n          o = t.data.response;\n\n      if (o.id === e.id && null != (n = o.result) && n.event) {\n        var i = o.result,\n            s = i.params;\n        r.emit.apply(r, [i.event].concat(void 0 === s ? [] : s));\n      }\n    });\n    return r;\n  }, c(e, [{\n    key: \"overlay\",\n    get: function () {\n      return this.sdk.overlay;\n    }\n  }]), e;\n}(),\n    ze = function (t) {\n  function r() {\n    return t.apply(this, arguments) || this;\n  }\n\n  l(r, t);\n  var n = r.prototype;\n  return n.loginWithMagicLink = function (t) {\n    var r = t.showUI,\n        n = Ue(this.sdk.testMode ? e.LoginWithMagicLinkTestMode : e.LoginWithMagicLink, [{\n      email: t.email,\n      showUI: void 0 === r || r,\n      redirectURI: t.redirectURI\n    }]);\n    return this.request(n);\n  }, n.loginWithSMS = function (t) {\n    var r = Ue(this.sdk.testMode ? e.LoginWithSmsTestMode : e.LoginWithSms, [{\n      phoneNumber: t.phoneNumber,\n      showUI: !0\n    }]);\n    return this.request(r);\n  }, n.loginWithCredential = function (t) {\n    var r = null != t ? t : \"\";\n\n    if (!t && \"web\" === ve.platform) {\n      r = window.location.search;\n      var n = window.location.origin + window.location.pathname;\n      window.history.replaceState(null, \"\", n);\n    }\n\n    var o = Ue(this.sdk.testMode ? e.LoginWithCredentialTestMode : e.LoginWithCredential, [r]);\n    return this.request(o);\n  }, r;\n}(Ye);\n\nfunction Je(e) {\n  return function () {\n    try {\n      var t = arguments,\n          r = function () {\n        return Promise.resolve(Be.ready()).then(function () {\n          var r;\n          return (r = Be)[e].apply(r, [].slice.call(t));\n        });\n      },\n          n = function () {\n        if (!Be) return Promise.resolve(ve.configureStorage()).then(function (e) {\n          Be = e;\n        });\n      }();\n\n      return Promise.resolve(n && n.then ? n.then(r) : r(n));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nvar Qe = Je(\"getItem\"),\n    Ze = Je(\"setItem\"),\n    et = Je(\"removeItem\"),\n    tt = Je(\"clear\"),\n    rt = Je(\"length\"),\n    nt = Je(\"key\"),\n    ot = Je(\"keys\"),\n    it = Je(\"iterate\"),\n    st = {\n  __proto__: null,\n  getItem: Qe,\n  setItem: Ze,\n  removeItem: et,\n  clear: tt,\n  length: rt,\n  key: nt,\n  keys: ot,\n  iterate: it\n};\n\nfunction at() {\n  var e = window.crypto.getRandomValues(new Uint8Array(16));\n  e[6] = 15 & e[6] | 64, e[8] = 191 & e[8] | 128;\n  var t = \"\";\n  return t += e[0].toString(16), t += e[1].toString(16), t += e[2].toString(16), t += e[3].toString(16), t += \"-\", t += e[4].toString(16), t += e[5].toString(16), t += \"-\", t += e[6].toString(16), t += e[7].toString(16), t += \"-\", t += e[8].toString(16), t += e[9].toString(16), t += \"-\", t += e[10].toString(16), t += e[11].toString(16), t += e[12].toString(16), t += e[13].toString(16), (t += e[14].toString(16)) + e[15].toString(16);\n}\n\nvar ct = function () {\n  try {\n    return Promise.resolve(function () {\n      try {\n        return t = (e = \"undefined\" != typeof window && !!window.crypto) && !!window.crypto.subtle, e && t ? Promise.resolve(Qe(lt)).then(function (e) {\n          function t() {\n            return Qe(lt);\n          }\n\n          var r = function () {\n            if (!e) return Promise.resolve(function () {\n              try {\n                var e = null,\n                    t = window.crypto.subtle;\n                return Promise.resolve(t.generateKey(ft, !0, [\"sign\"])).then(function (r) {\n                  return Promise.resolve(t.exportKey(\"jwk\", r.privateKey)).then(function (n) {\n                    return Promise.resolve(t.exportKey(\"jwk\", r.publicKey)).then(function (r) {\n                      return e = r, Promise.resolve(t.importKey(\"jwk\", n, pt, !1, [\"sign\"])).then(function (t) {\n                        return Promise.resolve(Ze(ut, t)).then(function () {\n                          return Promise.resolve(Ze(lt, e)).then(function () {});\n                        });\n                      });\n                    });\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }()).then(function () {});\n          }();\n\n          return r && r.then ? r.then(t) : t();\n        }) : (console.info(\"webcrypto is not supported\"), Promise.resolve(void 0));\n      } catch (e) {\n        return Promise.reject(e);\n      }\n\n      var e, t;\n    }()).then(function (e) {\n      if (e) {\n        var t = window.crypto.subtle;\n        return Promise.resolve(Qe(ut)).then(function (r) {\n          if (r && t) {\n            var n,\n                o = {\n              iat: Math.floor(new Date().getTime() / 1e3),\n              jti: at()\n            },\n                i = vt(JSON.stringify({\n              typ: \"dpop+jwt\",\n              alg: \"ES256\",\n              jwk: e\n            })),\n                s = vt(JSON.stringify(o)),\n                a = (n = i + \".\" + s, new TextEncoder().encode(n));\n            return Promise.resolve(t.sign({\n              name: ht,\n              hash: {\n                name: \"SHA-256\"\n              }\n            }, r, a)).then(function (e) {\n              var t,\n                  r,\n                  n = (t = new Uint8Array(e), r = \"\", t.forEach(function (e) {\n                r += String.fromCharCode(e);\n              }), Et(r));\n              return i + \".\" + s + \".\" + n;\n            });\n          }\n\n          console.info(\"unable to find private key or webcrypto unsupported\");\n        });\n      }\n\n      console.info(\"unable to create public key or webcrypto is unsupported\");\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    ut = \"STORE_KEY_PRIVATE_KEY\",\n    lt = \"STORE_KEY_PUBLIC_JWK\",\n    ht = \"ECDSA\",\n    ft = {\n  name: ht,\n  namedCurve: \"P-256\"\n},\n    pt = {\n  name: ht,\n  namedCurve: \"P-256\"\n};\n\nfunction dt() {\n  et(lt), et(ut);\n}\n\nfunction vt(e) {\n  return Et(function (e) {\n    return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g, function (e, t) {\n      return String.fromCharCode(parseInt(t, 16));\n    });\n  }(e));\n}\n\nfunction Et(e) {\n  return btoa(e).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+/g, \"\");\n}\n\nvar mt = function (t) {\n  function r() {\n    return t.apply(this, arguments) || this;\n  }\n\n  l(r, t);\n  var n = r.prototype;\n  return n.getIdToken = function (t) {\n    var r = Ue(this.sdk.testMode ? e.GetIdTokenTestMode : e.GetIdToken, [t]);\n    return this.request(r);\n  }, n.generateIdToken = function (t) {\n    var r = Ue(this.sdk.testMode ? e.GenerateIdTokenTestMode : e.GenerateIdToken, [t]);\n    return this.request(r);\n  }, n.getMetadata = function () {\n    var t = Ue(this.sdk.testMode ? e.GetMetadataTestMode : e.GetMetadata);\n    return this.request(t);\n  }, n.updateEmail = function (t) {\n    var r = t.showUI,\n        n = Ue(this.sdk.testMode ? e.UpdateEmailTestMode : e.UpdateEmail, [{\n      email: t.email,\n      showUI: void 0 === r || r\n    }]);\n    return this.request(n);\n  }, n.isLoggedIn = function () {\n    var t = Ue(this.sdk.testMode ? e.IsLoggedInTestMode : e.IsLoggedIn);\n    return this.request(t);\n  }, n.logout = function () {\n    dt();\n    var t = Ue(this.sdk.testMode ? e.LogoutTestMode : e.Logout);\n    return this.request(t);\n  }, n.showSettings = function () {\n    var t = Ue(this.sdk.testMode ? e.UserSettingsTestMode : e.UserSettings);\n    return this.request(t);\n  }, r;\n}(Ye),\n    yt = Ve(),\n    gt = yt.createBoundEmitterMethod,\n    It = yt.createChainingEmitterMethod,\n    wt = function (e) {\n  function t() {\n    for (var t, r = arguments.length, n = new Array(r), o = 0; o < r; o++) n[o] = arguments[o];\n\n    return (t = e.call.apply(e, [this].concat(n)) || this).isMagic = !0, t.on = It(\"on\", E(t)), t.once = It(\"once\", E(t)), t.addListener = It(\"addListener\", E(t)), t.off = It(\"off\", E(t)), t.removeListener = It(\"removeListener\", E(t)), t.removeAllListeners = It(\"removeAllListeners\", E(t)), t.emit = gt(\"emit\"), t.eventNames = gt(\"eventNames\"), t.listeners = gt(\"listeners\"), t.listenerCount = gt(\"listenerCount\"), t;\n  }\n\n  l(t, e);\n  var r = t.prototype;\n  return r.sendAsync = function (e, t) {\n    var r = this;\n    if (!t) throw Te({\n      procedure: \"Magic.rpcProvider.sendAsync\",\n      argument: 1,\n      expected: \"function\",\n      received: null === t ? \"null\" : typeof t\n    });\n    if (Array.isArray(e)) this.overlay.post(o.MAGIC_HANDLE_REQUEST, e.map(function (e) {\n      var t = Fe(e);\n      return r.prefixPayloadMethodForTestMode(t), t;\n    })).then(function (e) {\n      t(null, e.map(function (e) {\n        return u({}, e.payload, {\n          error: e.hasError ? new ge(e.payload.error) : null\n        });\n      }));\n    });else {\n      var n = Fe(e);\n      this.prefixPayloadMethodForTestMode(n), this.overlay.post(o.MAGIC_HANDLE_REQUEST, n).then(function (e) {\n        t(e.hasError ? new ge(e.payload.error) : null, e.payload);\n      });\n    }\n  }, r.send = function (e, t) {\n    if (\"string\" == typeof e) {\n      var r = Ue(e, Array.isArray(t) ? t : []);\n      return this.request(r);\n    }\n\n    if (!Array.isArray(e) && !t) {\n      var n = Se();\n      return n.log(), new Xe(e).applyError({\n        code: -32603,\n        message: n.rawMessage\n      }).payload;\n    }\n\n    this.sendAsync(e, t);\n  }, r.enable = function () {\n    var e = Ue(\"eth_accounts\");\n    return this.request(e);\n  }, r.request = function (t) {\n    return this.prefixPayloadMethodForTestMode(t), e.prototype.request.call(this, t);\n  }, r.prefixPayloadMethodForTestMode = function (e) {\n    this.sdk.testMode && (e.method = \"testMode/eth/\" + e.method);\n  }, t;\n}(Ye);\n\nfunction Rt(e, t) {\n  return t ? new URL(e, t) : new URL(e);\n}\n\nvar Ot = [\"request\", \"overlay\", \"sdk\"],\n    _t = function (e) {\n  function t() {\n    var t;\n    (t = e.call(this, void 0) || this).__sdk_access_field_descriptors__ = new Map(), t.__is_initialized__ = !1, t.utils = {\n      createPromiEvent: Ke,\n      isPromiEvent: qe,\n      encodeJSON: se,\n      decodeJSON: ae,\n      createJsonRpcRequestPayload: Ue,\n      standardizeJsonRpcRequestPayload: Fe,\n      storage: st\n    };\n    var r = [E(t)].concat(function (e) {\n      for (var t = Object.getPrototypeOf(e), r = [t]; t !== Ye.prototype;) t = Object.getPrototypeOf(t), r.push(t);\n\n      return r;\n    }(E(t)));\n    return Ot.forEach(function (e) {\n      var n = r.map(function (t) {\n        return Object.getOwnPropertyDescriptor(t, e);\n      }),\n          o = n.findIndex(function (e) {\n        return !!e;\n      }),\n          i = n[o];\n      i && (t.__sdk_access_field_descriptors__.set(e, {\n        descriptor: i,\n        isPrototypeField: o > 0\n      }), Object.defineProperty(E(t), e, {\n        configurable: !0,\n        get: function () {\n          throw Ne(e);\n        }\n      }));\n    }), t;\n  }\n\n  l(t, e);\n  var r = t.prototype;\n  return r.init = function (e) {\n    var t = this;\n    this.__is_initialized__ || (Ot.forEach(function (e) {\n      if (t.__sdk_access_field_descriptors__.has(e)) {\n        var r = t.__sdk_access_field_descriptors__.get(e),\n            n = r.descriptor;\n\n        r.isPrototypeField ? delete t[e] : Object.defineProperty(t, e, n);\n      }\n    }), this.sdk = e, this.__is_initialized__ = !0);\n  }, r.createDeprecationWarning = function (e) {\n    var t = e.useInstead;\n    return new Re(this, \"DEPRECATION_NOTICE\", \"`\" + e.method + \"` will be removed from this Extension in version `\" + e.removalVersion + \"`.\" + (t ? \" Use `\" + t + \"` instead.\" : \"\"));\n  }, r.createWarning = function (e, t) {\n    return new Re(this, e, t);\n  }, r.createError = function (e, t, r) {\n    return new we(this, e, t, r);\n  }, t;\n}(Ye),\n    Lt = function (e) {\n  function t() {\n    return e.apply(this, arguments) || this;\n  }\n\n  return l(t, e), t;\n}(_t),\n    Nt = function (e) {\n  function t() {\n    return e.apply(this, arguments) || this;\n  }\n\n  return l(t, e), t;\n}(_t);\n\nfunction At(e) {\n  return !e.compat || null == e.compat[ve.sdkName] || (\"string\" == typeof e.compat[ve.sdkName] ? function (e, t, r) {\n    try {\n      t = new C(t, void 0);\n    } catch (e) {\n      return !1;\n    }\n\n    return t.test(e);\n  }(function (e, t) {\n    if (e instanceof A) return e;\n    if (\"number\" == typeof e && (e = String(e)), \"string\" != typeof e) return null;\n    var r = null;\n\n    if ((t = t || {}).rtl) {\n      for (var n; (n = re[ne.COERCERTL].exec(e)) && (!r || r.index + r[0].length !== e.length);) r && n.index + n[0].length === r.index + r[0].length || (r = n), re[ne.COERCERTL].lastIndex = n.index + n[1].length + n[2].length;\n\n      re[ne.COERCERTL].lastIndex = -1;\n    } else r = e.match(re[ne.COERCE]);\n\n    return null === r ? null : function (e, t) {\n      if (t && \"object\" == typeof t || (t = {\n        loose: !!t,\n        includePrerelease: !1\n      }), e instanceof A) return e;\n      if (\"string\" != typeof e) return null;\n      if (e.length > Z) return null;\n      if (!(t.loose ? ee[te.LOOSE] : ee[te.FULL]).test(e)) return null;\n\n      try {\n        return new A(e, t);\n      } catch (e) {\n        return null;\n      }\n    }(r[2] + \".\" + (r[3] || \"0\") + \".\" + (r[4] || \"0\"), t);\n  }(ve.version), e.compat[ve.sdkName]) : !!e.compat[ve.sdkName]);\n}\n\nfunction Tt(e) {\n  var t,\n      r = this,\n      n = null != (t = null == e ? void 0 : e.extensions) ? t : [],\n      o = {},\n      i = [];\n  if (Array.isArray(n) ? n.forEach(function (e) {\n    At(e) ? (e.init(r), (e.name || e.name !== Nt.Anonymous) && (r[e.name] = e), e instanceof Nt.Internal && (de(e.config) || (o[e.name] = e.config))) : i.push(e);\n  }) : Object.keys(n).forEach(function (e) {\n    if (At(n[e])) {\n      n[e].init(r);\n      var t = n[e];\n      r[e] = t, t instanceof Nt.Internal && (de(t.config) || (o[n[e].name] = t.config));\n    } else i.push(n[e]);\n  }), i.length) throw Ae(i);\n  return o;\n}\n\nNt.Internal = Lt, Nt.Anonymous = \"anonymous extension\";\n\nvar Pt = function () {\n  function e(e, t) {\n    var r;\n    if (this.apiKey = void 0, this.endpoint = void 0, this.parameters = void 0, this.testMode = void 0, this.auth = void 0, this.user = void 0, this.rpcProvider = void 0, this.apiKey = e, !e) throw Oe();\n    \"react-native\" === ve.platform && null != t && t.endpoint && be().log();\n    var n = ve.defaultEndpoint,\n        o = ve.version;\n    this.testMode = !(null == t || !t.testMode), this.endpoint = Rt(null != (r = null == t ? void 0 : t.endpoint) ? r : n).origin, this.auth = new ze(this), this.user = new mt(this), this.rpcProvider = new wt(this);\n    var i = Tt.call(this, t);\n    this.parameters = se({\n      API_KEY: this.apiKey,\n      DOMAIN_ORIGIN: window.location ? window.location.origin : \"\",\n      ETH_NETWORK: null == t ? void 0 : t.network,\n      host: Rt(this.endpoint).host,\n      sdk: me[ve.sdkName],\n      version: o,\n      ext: de(i) ? void 0 : i,\n      locale: (null == t ? void 0 : t.locale) || \"en_US\"\n    });\n  }\n\n  return e.prototype.preload = function () {\n    try {\n      return Promise.resolve(this.overlay.ready).then(function () {});\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, c(e, [{\n    key: \"overlay\",\n    get: function () {\n      if (!e.__overlays__.has(this.parameters)) {\n        var t = new ve.ViewController(this.endpoint, this.parameters);\n        t.init(), e.__overlays__.set(this.parameters, t);\n      }\n\n      return e.__overlays__.get(this.parameters);\n    }\n  }]), e;\n}();\n\nPt.__overlays__ = new Map();\n\nvar St = function () {\n  function e(e, t) {\n    this.endpoint = void 0, this.parameters = void 0, this.ready = void 0, this.messageHandlers = new Set(), this.endpoint = e, this.parameters = t, this.ready = this.waitForReady(), this.listen();\n  }\n\n  var t = e.prototype;\n  return t.post = function (e, t) {\n    try {\n      var r = this;\n      return Promise.resolve(We(function (n) {\n        try {\n          return Promise.resolve(r.ready).then(function () {\n            var o = [],\n                s = Array.isArray(t) ? t.map(function (e) {\n              return e.id;\n            }) : [];\n            return Promise.resolve(function (e, t) {\n              try {\n                return Promise.resolve(Qe(\"rt\")).then(function (r) {\n                  function n() {\n                    return o ? r ? {\n                      msgType: e,\n                      payload: t,\n                      jwt: o,\n                      rt: r\n                    } : {\n                      msgType: e,\n                      payload: t,\n                      jwt: o\n                    } : {\n                      msgType: e,\n                      payload: t\n                    };\n                  }\n\n                  var o,\n                      i = function () {\n                    if (\"web\" === ve.platform) {\n                      var e = function (e, t) {\n                        try {\n                          var r = Promise.resolve(ct()).then(function (e) {\n                            o = e;\n                          });\n                        } catch (e) {\n                          return t(e);\n                        }\n\n                        return r && r.then ? r.then(void 0, t) : r;\n                      }(0, function (e) {\n                        console.error(\"webcrypto error\", e);\n                      });\n\n                      if (e && e.then) return e.then(function () {});\n                    }\n                  }();\n\n                  return i && i.then ? i.then(n) : n();\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e + \"-\" + r.parameters, t)).then(function (e) {\n              return Promise.resolve(r._post(e)).then(function () {\n                var e,\n                    a = r.on(i.MAGIC_HANDLE_RESPONSE, (e = function () {\n                  return a();\n                }, function (r) {\n                  var i = function (e, t) {\n                    var r,\n                        n = null == (r = t.data.response) ? void 0 : r.id,\n                        o = function (e, t) {\n                      return t && Array.isArray(e) ? e.find(function (e) {\n                        return e.id === t;\n                      }) : e;\n                    }(e, n);\n\n                    return n && o ? {\n                      id: n,\n                      response: new Xe(o).applyResult(t.data.response.result).applyError(t.data.response.error)\n                    } : {};\n                  }(t, r),\n                      a = i.id,\n                      c = i.response;\n\n                  !function (e) {\n                    try {\n                      e.data.rt ? Promise.resolve(Ze(\"rt\", e.data.rt)).then(function () {}) : Promise.resolve();\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(r), a && c && Array.isArray(t) && s.includes(a) ? (o.push(c), o.length === t.length && (e(), n(o))) : a && c && !Array.isArray(t) && a === t.id && (e(), n(c));\n                }));\n              });\n            });\n          });\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, t.on = function (e, t) {\n    var r = this,\n        n = t.bind(window),\n        o = function (t) {\n      t.data.msgType === e + \"-\" + r.parameters && n(t);\n    };\n\n    return this.messageHandlers.add(o), function () {\n      return r.messageHandlers.delete(o);\n    };\n  }, t.waitForReady = function () {\n    var e = this;\n    return new Promise(function (t) {\n      e.on(i.MAGIC_OVERLAY_READY, function () {\n        return t();\n      });\n    });\n  }, t.listen = function () {\n    var e = this;\n    this.on(i.MAGIC_HIDE_OVERLAY, function () {\n      e.hideOverlay();\n    }), this.on(i.MAGIC_SHOW_OVERLAY, function () {\n      e.showOverlay();\n    });\n  }, e;\n}();\n\nexport { Nt as Extension, we as MagicExtensionError, Re as MagicExtensionWarning, ge as MagicRPCError, ye as MagicSDKError, Ie as MagicSDKWarning, Pt as SDKBase, ut as STORE_KEY_PRIVATE_KEY, lt as STORE_KEY_PUBLIC_JWK, He as TypedEmitter, St as ViewController, dt as clearKeys, Me as createDeprecationWarning, Pe as createDuplicateIframeWarning, Ne as createExtensionNotInitializedError, Ae as createIncompatibleExtensionsError, Te as createInvalidArgumentError, ct as createJwt, Le as createMalformedResponseError, Oe as createMissingApiKeyError, _e as createModalNotReadyError, Ke as createPromiEvent, We as createPromise, be as createReactNativeEndpointConfigurationWarning, Ee as createSDK, Se as createSynchronousWeb3MethodWarning, Ve as createTypedEmitter, Rt as createURL, ae as decodeJSON, se as encodeJSON, ke as getPayloadId, de as isEmpty, pe as isJsonRpcErrorCode, le as isJsonRpcRequestPayload, he as isJsonRpcResponsePayload, fe as isMagicPayloadMethod, qe as isPromiEvent, st as storage, at as uuid };","map":{"version":3,"sources":["../../../../../node_modules/regenerator-runtime/runtime.js","../../src/util/semver.js","../../src/util/base64-json.ts","../../src/util/type-guards.ts","../../src/core/sdk-environment.ts","../../src/core/sdk-exceptions.ts","../../src/util/get-payload-id.ts","../../src/core/json-rpc.ts","../../src/util/events.ts","../../node_modules/eventemitter3/index.js","../../src/util/promise-tools.ts","../../src/util/storage.ts","../../src/modules/base-module.ts","../../src/modules/auth.ts","../../src/util/uuid.ts","../../src/util/web-crypto.ts","../../src/modules/user.ts","../../src/modules/rpc-provider.ts","../../src/util/url.ts","../../src/modules/base-extension.ts","../../src/core/sdk.ts","../../src/core/view-controller.ts"],"names":["runtime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","this","async","Promise","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","r","e","SEMVER_SPEC_VERSION","Number","MAX_SAFE_INTEGER","constants","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","process","env","NODE_DEBUG","test","console","debug_1","re_1","t","s","re","src","o","a","n","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","numeric","MAX_LENGTH$1","re$4","t$4","compareIdentifiers","SemVer","loose","includePrerelease","version","options","trim","match","LOOSE","FULL","raw","major","minor","patch","prerelease","split","map","build","format","join","toString","compare","compareMain","comparePre","compareBuild","inc","compare_1","eq_1","neq_1","gt_1","gte_1","lt_1","lte_1","cmp_1","ANY","Comparator","parse","semver","operator","re$3","t$3","COMPARATORLOOSE","COMPARATOR","intersects","Range","set","_this","parseRange","filter","range","re$2","t$2","HYPHENRANGELOOSE","HYPHENRANGE","replace","hyphenReplace","COMPARATORTRIM","TILDETRIM","CARETTRIM","parseComparator","_this2","replaceGTE0","some","isSatisfiable","every","testSet","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","toLowerCase","replaceTilde","TILDELOOSE","TILDE","replaceCaret","CARETLOOSE","CARET","replaceXRange","XRANGELOOSE","XRANGE","E","p","l","STAR","GTE0PRE","GTE0","c","$","h","re$1","t$1","String","rtl","COERCERTL","exec","index","lastIndex","parse_1","percentToByte","fromCharCode","parseInt","byteToPercent","b","charCodeAt","str","btoa","encodeURIComponent","decodeURIComponent","Array","from","atob","encodeJSON","JSON","stringify","decodeJSON","queryString","isUndefined","isNil","isNull","isJsonRpcRequestPayload","jsonrpc","id","params","isJsonRpcResponsePayload","isMagicPayloadMethod","MagicPayloadMethod","includes","isJsonRpcErrorCode","RPCErrorCode","isEmpty","SDKEnvironment","createSDK","SDKBaseCtor","environment","assign","sdkNameToEnvName","MagicSDKError","code","rawMessage","MagicRPCError","sourceError","codeNormalized","message","InternalError","MagicSDKWarning","log","warn","MagicExtensionError","ext","data","_this3","MagicExtensionWarning","createMissingApiKeyError","SDKErrorCode","MissingApiKey","createModalNotReadyError","ModalNotReady","createMalformedResponseError","MalformedResponse","createExtensionNotInitializedError","member","ExtensionNotInitialized","createIncompatibleExtensionsError","extensions","msg","sdkName","compat","platform","IncompatibleExtensions","createInvalidArgumentError","iAdjusted","j","k","InvalidArgument","argument","procedure","expected","received","createDuplicateIframeWarning","SDKWarningCode","DuplicateIframe","createSynchronousWeb3MethodWarning","SyncWeb3Method","createReactNativeEndpointConfigurationWarning","ReactNativeEndpointConfiguration","defaultEndpoint","createDeprecationWarning","removalVersions","useInstead","DeprecationNotice","createIntGenerator","intGenerator","getPayloadId","payloadPreprocessedSymbol","markPayloadAsPreprocessed","payload","standardizeJsonRpcRequestPayload","isPayloadPreprocessed","createJsonRpcRequestPayload","JsonRpcResponse","_jsonrpc","_id","_result","_error","responseOrPayload","applyError","applyResult","TypedEmitter","createTypedEmitter","emitter","source","apply","createChainingEmitterMethod","createBoundEmitterMethod","has","prefix","Events","EE","once","addListener","event","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","names","events","getOwnPropertySymbols","concat","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","len","arguments","args","removeListener","on","removeAllListeners","off","prefixed","promiEventBrand","isPromiEvent","createPromiEvent","executor","promise","createPromise","thenSymbol","catchSymbol","finallySymbol","createChainingPromiseMethod","nextPromise","promiEvent","resolved","lf","proxyLocalForageMethod","configureStorage","ready","getItem","setItem","removeItem","clear","iterate","BaseModule","sdk","overlay","request","responsePromise","post","MagicOutgoingWindowMessage","MAGIC_HANDLE_REQUEST","res","cleanupEvents","hasError","hasResult","MagicIncomingWindowMessage","MAGIC_HANDLE_EVENT","response","AuthModule","loginWithMagicLink","configuration","email","showUI","redirectURI","requestPayload","testMode","LoginWithMagicLinkTestMode","LoginWithMagicLink","loginWithSMS","phoneNumber","LoginWithSmsTestMode","LoginWithSms","loginWithCredential","credentialOrQueryString","credentialResolved","window","location","search","urlWithoutQuery","origin","pathname","history","replaceState","LoginWithCredentialTestMode","LoginWithCredential","uuid","u","crypto","getRandomValues","Uint8Array","uid","STORE_KEY_PRIVATE_KEY","STORE_KEY_PUBLIC_JWK","ALGO_NAME","EC_GEN_PARAMS","namedCurve","EC_IMPORT_PARAMS","clearKeys","createJwt","publicJwk","getPublicKey","subtle","privateJwk","claims","iat","Math","floor","Date","getTime","jti","typ","alg","jwk","jws","strToUrlBase64","hash","sig","sign","generateWCKP","jwkPublicKey","kp","generateKey","jwkPrivateKey","exportKey","privateKey","publicKey","nonExportPrivateKey","importKey","hasCrypto","hasSubtleCrypto","binToUrlBase64","utf8ToBinaryString","TextEncoder","encode","bin","_","p1","uint8","UserModule","getIdToken","GetIdTokenTestMode","GetIdToken","generateIdToken","GenerateIdTokenTestMode","GenerateIdToken","getMetadata","GetMetadataTestMode","GetMetadata","updateEmail","UpdateEmailTestMode","UpdateEmail","isLoggedIn","IsLoggedInTestMode","IsLoggedIn","logout","LogoutTestMode","Logout","showSettings","UserSettingsTestMode","UserSettings","RPCProviderModule","isMagic","sendAsync","onRequestComplete","isArray","standardizedPayload","prefixPayloadMethodForTestMode","batchResponse","finalPayload","send","payloadOrMethod","onRequestCompleteOrParams","warning","enable","createURL","url","base","URL","sdkAccessFields","instance","currentProto","protos","BaseExtension","__sdk_access_field_descriptors__","Map","__is_initialized__","utils","storage","allSources","getPrototypeChain","prop","allDescriptors","getOwnPropertyDescriptor","sourceIndex","findIndex","x","descriptor","isPrototypeField","get","init","removalVersion","createWarning","createError","InternalExtension","Extension","Internal","Anonymous","checkExtensionCompat","satisfies","coerce","prepareExtensions","extConfig","incompatibleExtensions","config","SDKBase","__overlays__","endpoint","parameters","auth","user","rpcProvider","apiKey","API_KEY","DOMAIN_ORIGIN","ETH_NETWORK","network","host","locale","controller","ViewController","preload","find","requestPayloadResolved","getRequestPayloadFromBatch","msgType","rt","jwt","messageHandlers","Set","waitForReady","listen","batchData","batchIds","createMagicRequest","_post","removeEventListener","standardizeResponse","persistMagicEventRefreshToken","removeResponseListener","MAGIC_HANDLE_RESPONSE","handler","boundHandler","bind","add","_this4","MAGIC_OVERLAY_READY","MAGIC_HIDE_OVERLAY","_this5","hideOverlay","MAGIC_SHOW_OVERLAY","showOverlay"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/* eslint-disable */\n/* istanbul ignore file */\n\n// DO NOT CHANGE THIS FILE.\n//\n// We have to bundle `semver` ourselves due to a long-standing cyclic dependency\n// which causes Rollup to break the `satisfies` function.\n//\n// See:\n//   - https://github.com/magiclabs/magic-js/issues/198\n//   - https://github.com/rollup/plugins/issues/879\n//   - https://github.com/npm/node-semver/issues/318\n//   - https://github.com/npm/node-semver/issues/381\n\nfunction createCommonjsModule(e){const r={exports:{}};return e(r,r.exports),r.exports}const SEMVER_SPEC_VERSION=\"2.0.0\",MAX_LENGTH$2=256,MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16,constants={SEMVER_SPEC_VERSION:\"2.0.0\",MAX_LENGTH:256,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$1,MAX_SAFE_COMPONENT_LENGTH:16},debug=\"object\"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error(\"SEMVER\",...e):()=>{},debug_1=debug,re_1=createCommonjsModule(function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t}=constants,s=(r=e.exports={}).re=[],i=r.src=[],o=r.t={};let a=0;const n=(e,r,t)=>{const n=a++;debug_1(n,r),o[e]=n,i[n]=r,s[n]=new RegExp(r,t?\"g\":void 0)};n(\"NUMERICIDENTIFIER\",\"0|[1-9]\\\\d*\"),n(\"NUMERICIDENTIFIERLOOSE\",\"[0-9]+\"),n(\"NONNUMERICIDENTIFIER\",\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\"),n(\"MAINVERSION\",`(${i[o.NUMERICIDENTIFIER]})\\\\.`+`(${i[o.NUMERICIDENTIFIER]})\\\\.`+`(${i[o.NUMERICIDENTIFIER]})`),n(\"MAINVERSIONLOOSE\",`(${i[o.NUMERICIDENTIFIERLOOSE]})\\\\.`+`(${i[o.NUMERICIDENTIFIERLOOSE]})\\\\.`+`(${i[o.NUMERICIDENTIFIERLOOSE]})`),n(\"PRERELEASEIDENTIFIER\",`(?:${i[o.NUMERICIDENTIFIER]}|${i[o.NONNUMERICIDENTIFIER]})`),n(\"PRERELEASEIDENTIFIERLOOSE\",`(?:${i[o.NUMERICIDENTIFIERLOOSE]}|${i[o.NONNUMERICIDENTIFIER]})`),n(\"PRERELEASE\",`(?:-(${i[o.PRERELEASEIDENTIFIER]}(?:\\\\.${i[o.PRERELEASEIDENTIFIER]})*))`),n(\"PRERELEASELOOSE\",`(?:-?(${i[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${i[o.PRERELEASEIDENTIFIERLOOSE]})*))`),n(\"BUILDIDENTIFIER\",\"[0-9A-Za-z-]+\"),n(\"BUILD\",`(?:\\\\+(${i[o.BUILDIDENTIFIER]}(?:\\\\.${i[o.BUILDIDENTIFIER]})*))`),n(\"FULLPLAIN\",`v?${i[o.MAINVERSION]}${i[o.PRERELEASE]}?${i[o.BUILD]}?`),n(\"FULL\",`^${i[o.FULLPLAIN]}$`),n(\"LOOSEPLAIN\",`[v=\\\\s]*${i[o.MAINVERSIONLOOSE]}${i[o.PRERELEASELOOSE]}?${i[o.BUILD]}?`),n(\"LOOSE\",`^${i[o.LOOSEPLAIN]}$`),n(\"GTLT\",\"((?:<|>)?=?)\"),n(\"XRANGEIDENTIFIERLOOSE\",`${i[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`),n(\"XRANGEIDENTIFIER\",`${i[o.NUMERICIDENTIFIER]}|x|X|\\\\*`),n(\"XRANGEPLAIN\",`[v=\\\\s]*(${i[o.XRANGEIDENTIFIER]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIER]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIER]})`+`(?:${i[o.PRERELEASE]})?${i[o.BUILD]}?`+\")?)?\"),n(\"XRANGEPLAINLOOSE\",`[v=\\\\s]*(${i[o.XRANGEIDENTIFIERLOOSE]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIERLOOSE]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIERLOOSE]})`+`(?:${i[o.PRERELEASELOOSE]})?${i[o.BUILD]}?`+\")?)?\"),n(\"XRANGE\",`^${i[o.GTLT]}\\\\s*${i[o.XRANGEPLAIN]}$`),n(\"XRANGELOOSE\",`^${i[o.GTLT]}\\\\s*${i[o.XRANGEPLAINLOOSE]}$`),n(\"COERCE\",`(^|[^\\\\d])(\\\\d{1,${t}})`+`(?:\\\\.(\\\\d{1,${t}}))?`+`(?:\\\\.(\\\\d{1,${t}}))?`+\"(?:$|[^\\\\d])\"),n(\"COERCERTL\",i[o.COERCE],!0),n(\"LONETILDE\",\"(?:~>?)\"),n(\"TILDETRIM\",`(\\\\s*)${i[o.LONETILDE]}\\\\s+`,!0),r.tildeTrimReplace=\"$1~\",n(\"TILDE\",`^${i[o.LONETILDE]}${i[o.XRANGEPLAIN]}$`),n(\"TILDELOOSE\",`^${i[o.LONETILDE]}${i[o.XRANGEPLAINLOOSE]}$`),n(\"LONECARET\",\"(?:\\\\^)\"),n(\"CARETTRIM\",`(\\\\s*)${i[o.LONECARET]}\\\\s+`,!0),r.caretTrimReplace=\"$1^\",n(\"CARET\",`^${i[o.LONECARET]}${i[o.XRANGEPLAIN]}$`),n(\"CARETLOOSE\",`^${i[o.LONECARET]}${i[o.XRANGEPLAINLOOSE]}$`),n(\"COMPARATORLOOSE\",`^${i[o.GTLT]}\\\\s*(${i[o.LOOSEPLAIN]})$|^$`),n(\"COMPARATOR\",`^${i[o.GTLT]}\\\\s*(${i[o.FULLPLAIN]})$|^$`),n(\"COMPARATORTRIM\",`(\\\\s*)${i[o.GTLT]}\\\\s*(${i[o.LOOSEPLAIN]}|${i[o.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace=\"$1$2$3\",n(\"HYPHENRANGE\",`^\\\\s*(${i[o.XRANGEPLAIN]})`+\"\\\\s+-\\\\s+\"+`(${i[o.XRANGEPLAIN]})`+\"\\\\s*$\"),n(\"HYPHENRANGELOOSE\",`^\\\\s*(${i[o.XRANGEPLAINLOOSE]})`+\"\\\\s+-\\\\s+\"+`(${i[o.XRANGEPLAINLOOSE]})`+\"\\\\s*$\"),n(\"STAR\",\"(<|>)?=?\\\\s*\\\\*\"),n(\"GTE0\",\"^\\\\s*>=\\\\s*0.0.0\\\\s*$\"),n(\"GTE0PRE\",\"^\\\\s*>=\\\\s*0.0.0-0\\\\s*$\")}),numeric=/^[0-9]+$/,compareIdentifiers$1=(e,r)=>{const t=numeric.test(e),s=numeric.test(r);return t&&s&&(e=+e,r=+r),e===r?0:t&&!s?-1:s&&!t?1:e<r?-1:1},rcompareIdentifiers=(e,r)=>compareIdentifiers$1(r,e),identifiers={compareIdentifiers:compareIdentifiers$1,rcompareIdentifiers:rcompareIdentifiers},{MAX_LENGTH:MAX_LENGTH$1,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER}=constants,{re:re$4,t:t$4}=re_1,{compareIdentifiers:compareIdentifiers}=identifiers;class SemVer{constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof SemVer){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(\"string\"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>MAX_LENGTH$1)throw new TypeError(`version is longer than ${MAX_LENGTH$1} characters`);debug_1(\"SemVer\",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const t=e.trim().match(r.loose?re$4[t$4.LOOSE]:re$4[t$4.FULL]);if(!t)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError(\"Invalid patch version\");t[4]?this.prerelease=t[4].split(\".\").map(e=>{if(/^[0-9]+$/.test(e)){const r=+e;if(r>=0&&r<MAX_SAFE_INTEGER)return r}return e}):this.prerelease=[],this.build=t[5]?t[5].split(\".\"):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(\".\")}`),this.version}toString(){return this.version}compare(e){if(debug_1(\"SemVer.compare\",this.version,this.options,e),!(e instanceof SemVer)){if(\"string\"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),compareIdentifiers(this.major,e.major)||compareIdentifiers(this.minor,e.minor)||compareIdentifiers(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const t=this.prerelease[r],s=e.prerelease[r];if(debug_1(\"prerelease compare\",r,t,s),void 0===t&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===t)return-1;if(t!==s)return compareIdentifiers(t,s)}while(++r)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let r=0;do{const t=this.build[r],s=e.build[r];if(debug_1(\"prerelease compare\",r,t,s),void 0===t&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===t)return-1;if(t!==s)return compareIdentifiers(t,s)}while(++r)}inc(e,r){switch(e){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",r);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",r);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",r),this.inc(\"pre\",r);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",r),this.inc(\"pre\",r);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)\"number\"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}const compare=(e,r,t)=>new SemVer(e,t).compare(new SemVer(r,t)),compare_1=compare,eq=(e,r,t)=>0===compare_1(e,r,t),eq_1=eq,neq=(e,r,t)=>0!==compare_1(e,r,t),neq_1=neq,gt=(e,r,t)=>compare_1(e,r,t)>0,gt_1=gt,gte=(e,r,t)=>compare_1(e,r,t)>=0,gte_1=gte,lt=(e,r,t)=>compare_1(e,r,t)<0,lt_1=lt,lte=(e,r,t)=>compare_1(e,r,t)<=0,lte_1=lte,cmp=(e,r,t,s)=>{switch(r){case\"===\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof t&&(t=t.version),e===t;case\"!==\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof t&&(t=t.version),e!==t;case\"\":case\"=\":case\"==\":return eq_1(e,t,s);case\"!=\":return neq_1(e,t,s);case\">\":return gt_1(e,t,s);case\">=\":return gte_1(e,t,s);case\"<\":return lt_1(e,t,s);case\"<=\":return lte_1(e,t,s);default:throw new TypeError(`Invalid operator: ${r}`)}},cmp_1=cmp,ANY=Symbol(\"SemVer ANY\");class Comparator{static get ANY(){return ANY}constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof Comparator){if(e.loose===!!r.loose)return e;e=e.value}debug_1(\"comparator\",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ANY?this.value=\"\":this.value=this.operator+this.semver.version,debug_1(\"comp\",this)}parse(e){const r=this.options.loose?re$3[t$3.COMPARATORLOOSE]:re$3[t$3.COMPARATOR],t=e.match(r);if(!t)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==t[1]?t[1]:\"\",\"=\"===this.operator&&(this.operator=\"\"),t[2]?this.semver=new SemVer(t[2],this.options.loose):this.semver=ANY}toString(){return this.value}test(e){if(debug_1(\"Comparator.test\",e,this.options.loose),this.semver===ANY||e===ANY)return!0;if(\"string\"==typeof e)try{e=new SemVer(e,this.options)}catch(e){return!1}return cmp_1(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Comparator))throw new TypeError(\"a Comparator is required\");if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),\"\"===this.operator)return\"\"===this.value||new Range(e.value,r).test(this.value);if(\"\"===e.operator)return\"\"===e.value||new Range(this.value,r).test(e.semver);const t=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==e.operator&&\">\"!==e.operator),s=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==e.operator&&\"<\"!==e.operator),i=this.semver.version===e.semver.version,o=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==e.operator&&\"<=\"!==e.operator),a=cmp_1(this.semver,\"<\",e.semver,r)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===e.operator||\"<\"===e.operator),n=cmp_1(this.semver,\">\",e.semver,r)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===e.operator||\">\"===e.operator);return t||s||i&&o||a||n}}const{re:re$3,t:t$3}=re_1;class Range{constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof Range)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Range(e.raw,r);if(e instanceof Comparator)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\\s*\\|\\|\\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);this.format()}format(){return this.range=this.set.map(e=>e.join(\" \").trim()).join(\"||\").trim(),this.range}toString(){return this.range}parseRange(e){const{loose:r}=this.options;e=e.trim();const t=r?re$2[t$2.HYPHENRANGELOOSE]:re$2[t$2.HYPHENRANGE];e=e.replace(t,hyphenReplace(this.options.includePrerelease)),debug_1(\"hyphen replace\",e),e=e.replace(re$2[t$2.COMPARATORTRIM],comparatorTrimReplace),debug_1(\"comparator trim\",e,re$2[t$2.COMPARATORTRIM]),e=(e=(e=e.replace(re$2[t$2.TILDETRIM],tildeTrimReplace)).replace(re$2[t$2.CARETTRIM],caretTrimReplace)).split(/\\s+/).join(\" \");const s=r?re$2[t$2.COMPARATORLOOSE]:re$2[t$2.COMPARATOR];return e.split(\" \").map(e=>parseComparator(e,this.options)).join(\" \").split(/\\s+/).map(e=>replaceGTE0(e,this.options)).filter(this.options.loose?e=>!!e.match(s):()=>!0).map(e=>new Comparator(e,this.options))}intersects(e,r){if(!(e instanceof Range))throw new TypeError(\"a Range is required\");return this.set.some(t=>isSatisfiable(t,r)&&e.set.some(e=>isSatisfiable(e,r)&&t.every(t=>e.every(e=>t.intersects(e,r)))))}test(e){if(!e)return!1;if(\"string\"==typeof e)try{e=new SemVer(e,this.options)}catch(e){return!1}for(let r=0;r<this.set.length;r++)if(testSet(this.set[r],e,this.options))return!0;return!1}}const{re:re$2,t:t$2,comparatorTrimReplace:comparatorTrimReplace,tildeTrimReplace:tildeTrimReplace,caretTrimReplace:caretTrimReplace}=re_1,isSatisfiable=(e,r)=>{let t=!0;const s=e.slice();let i=s.pop();for(;t&&s.length;)t=s.every(e=>i.intersects(e,r)),i=s.pop();return t},parseComparator=(e,r)=>(debug_1(\"comp\",e,r),e=replaceCarets(e,r),debug_1(\"caret\",e),e=replaceTildes(e,r),debug_1(\"tildes\",e),e=replaceXRanges(e,r),debug_1(\"xrange\",e),e=replaceStars(e,r),debug_1(\"stars\",e),e),isX=e=>!e||\"x\"===e.toLowerCase()||\"*\"===e,replaceTildes=(e,r)=>e.trim().split(/\\s+/).map(e=>replaceTilde(e,r)).join(\" \"),replaceTilde=(e,r)=>{const t=r.loose?re$2[t$2.TILDELOOSE]:re$2[t$2.TILDE];return e.replace(t,(r,t,s,i,o)=>{let a;return debug_1(\"tilde\",e,r,t,s,i,o),isX(t)?a=\"\":isX(s)?a=`>=${t}.0.0 <${+t+1}.0.0-0`:isX(i)?a=`>=${t}.${s}.0 <${t}.${+s+1}.0-0`:o?(debug_1(\"replaceTilde pr\",o),a=`>=${t}.${s}.${i}-${o} <${t}.${+s+1}.0-0`):a=`>=${t}.${s}.${i} <${t}.${+s+1}.0-0`,debug_1(\"tilde return\",a),a})},replaceCarets=(e,r)=>e.trim().split(/\\s+/).map(e=>replaceCaret(e,r)).join(\" \"),replaceCaret=(e,r)=>{debug_1(\"caret\",e,r);const t=r.loose?re$2[t$2.CARETLOOSE]:re$2[t$2.CARET],s=r.includePrerelease?\"-0\":\"\";return e.replace(t,(r,t,i,o,a)=>{let n;return debug_1(\"caret\",e,r,t,i,o,a),isX(t)?n=\"\":isX(i)?n=`>=${t}.0.0${s} <${+t+1}.0.0-0`:isX(o)?n=\"0\"===t?`>=${t}.${i}.0${s} <${t}.${+i+1}.0-0`:`>=${t}.${i}.0${s} <${+t+1}.0.0-0`:a?(debug_1(\"replaceCaret pr\",a),n=\"0\"===t?\"0\"===i?`>=${t}.${i}.${o}-${a} <${t}.${i}.${+o+1}-0`:`>=${t}.${i}.${o}-${a} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${o}-${a} <${+t+1}.0.0-0`):(debug_1(\"no pr\"),n=\"0\"===t?\"0\"===i?`>=${t}.${i}.${o}${s} <${t}.${i}.${+o+1}-0`:`>=${t}.${i}.${o}${s} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${o} <${+t+1}.0.0-0`),debug_1(\"caret return\",n),n})},replaceXRanges=(e,r)=>(debug_1(\"replaceXRanges\",e,r),e.split(/\\s+/).map(e=>replaceXRange(e,r)).join(\" \")),replaceXRange=(e,r)=>{e=e.trim();const t=r.loose?re$2[t$2.XRANGELOOSE]:re$2[t$2.XRANGE];return e.replace(t,(t,s,i,o,a,n)=>{debug_1(\"xRange\",e,t,s,i,o,a,n);const E=isX(i),p=E||isX(o),l=p||isX(a),c=l;return\"=\"===s&&c&&(s=\"\"),n=r.includePrerelease?\"-0\":\"\",E?t=\">\"===s||\"<\"===s?\"<0.0.0-0\":\"*\":s&&c?(p&&(o=0),a=0,\">\"===s?(s=\">=\",p?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):\"<=\"===s&&(s=\"<\",p?i=+i+1:o=+o+1),\"<\"===s&&(n=\"-0\"),t=`${s+i}.${o}.${a}${n}`):p?t=`>=${i}.0.0${n} <${+i+1}.0.0-0`:l&&(t=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`),debug_1(\"xRange return\",t),t})},replaceStars=(e,r)=>(debug_1(\"replaceStars\",e,r),e.trim().replace(re$2[t$2.STAR],\"\")),replaceGTE0=(e,r)=>(debug_1(\"replaceGTE0\",e,r),e.trim().replace(re$2[r.includePrerelease?t$2.GTE0PRE:t$2.GTE0],\"\")),hyphenReplace=e=>(r,t,s,i,o,a,n,E,p,l,c,$,h)=>`${t=isX(s)?\"\":isX(i)?`>=${s}.0.0${e?\"-0\":\"\"}`:isX(o)?`>=${s}.${i}.0${e?\"-0\":\"\"}`:a?`>=${t}`:`>=${t}${e?\"-0\":\"\"}`} ${E=isX(p)?\"\":isX(l)?`<${+p+1}.0.0-0`:isX(c)?`<${p}.${+l+1}.0-0`:$?`<=${p}.${l}.${c}-${$}`:e?`<${p}.${l}.${+c+1}-0`:`<=${E}`}`.trim(),testSet=(e,r,t)=>{for(let t=0;t<e.length;t++)if(!e[t].test(r))return!1;if(r.prerelease.length&&!t.includePrerelease){for(let t=0;t<e.length;t++)if(debug_1(e[t].semver),e[t].semver!==Comparator.ANY&&e[t].semver.prerelease.length>0){const s=e[t].semver;if(s.major===r.major&&s.minor===r.minor&&s.patch===r.patch)return!0}return!1}return!0};export const satisfies=(e,r,t)=>{try{r=new Range(r,t)}catch(e){return!1}return r.test(e)};const satisfies_1=satisfies,{MAX_LENGTH:MAX_LENGTH}=constants,{re:re$1,t:t$1}=re_1,parse=(e,r)=>{if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof SemVer)return e;if(\"string\"!=typeof e)return null;if(e.length>MAX_LENGTH)return null;if(!(r.loose?re$1[t$1.LOOSE]:re$1[t$1.FULL]).test(e))return null;try{return new SemVer(e,r)}catch(e){return null}},parse_1=parse,{re:re,t:t}=re_1;export const coerce=(e,r)=>{if(e instanceof SemVer)return e;if(\"number\"==typeof e&&(e=String(e)),\"string\"!=typeof e)return null;let s=null;if((r=r||{}).rtl){let r;for(;(r=re[t.COERCERTL].exec(e))&&(!s||s.index+s[0].length!==e.length);)s&&r.index+r[0].length===s.index+s[0].length||(s=r),re[t.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;re[t.COERCERTL].lastIndex=-1}else s=e.match(re[t.COERCE]);return null===s?null:parse_1(`${s[2]}.${s[3]||\"0\"}.${s[4]||\"0\"}`,r)};\n","function percentToByte(p: string) {\n  return String.fromCharCode(parseInt(p.slice(1), 16));\n}\n\nfunction byteToPercent(b: string) {\n  return `%${`00${b.charCodeAt(0).toString(16)}`.slice(-2)}`;\n}\n\n/**\n * Encodes a Base64 string. Safe for UTF-8 characters.\n * Original source is from the `universal-base64` NPM package.\n *\n * @source https://github.com/blakeembrey/universal-base64/blob/master/src/browser.ts\n */\nfunction btoaUTF8(str: string): string {\n  return btoa(encodeURIComponent(str).replace(/%[0-9A-F]{2}/g, percentToByte));\n}\n\n/**\n * Decodes a Base64 string. Safe for UTF-8 characters.\n * Original source is from the `universal-base64` NPM package.\n *\n * @source https://github.com/blakeembrey/universal-base64/blob/master/src/browser.ts\n */\nfunction atobUTF8(str: string): string {\n  return decodeURIComponent(Array.from(atob(str), byteToPercent).join(''));\n}\n\n/**\n * Given a JSON-serializable object, encode as a Base64 string.\n */\nexport function encodeJSON<T>(options: T): string {\n  return btoaUTF8(JSON.stringify(options));\n}\n\n/**\n * Given a Base64 JSON string, decode a JavaScript object.\n */\nexport function decodeJSON<T>(queryString: string): T {\n  return JSON.parse(atobUTF8(queryString));\n}\n","/**\n * This file contains our type guards.\n *\n * Type guards are a feature of TypeScript which narrow the type signature of\n * intesection types (types that can be one thing or another).\n *\n * @see\n * https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types\n */\n\nimport { JsonRpcRequestPayload, JsonRpcResponsePayload, MagicPayloadMethod, RPCErrorCode } from '@magic-sdk/types';\n\n/**\n * Assert `value` is `undefined`.\n */\nfunction isUndefined(value: any): value is undefined {\n  return typeof value === 'undefined';\n}\n\n/**\n * Assert `value` is `null`.\n */\nfunction isNull(value: any): value is null {\n  return value === null;\n}\n\n/**\n * Assert `value` is `null` or `undefined`.\n */\nfunction isNil(value: any): value is null | undefined {\n  return isNull(value) || isUndefined(value);\n}\n\n/**\n * Assert `value` is a `JsonRpcRequestPayload` object.\n */\nexport function isJsonRpcRequestPayload(value?: JsonRpcRequestPayload): value is JsonRpcRequestPayload {\n  if (isNil(value)) return false;\n  return (\n    !isUndefined(value.jsonrpc) && !isUndefined(value.id) && !isUndefined(value.method) && !isUndefined(value.params)\n  );\n}\n\n/**\n * Assert `value` is a `JsonRpcResponsePayload` object.\n */\nexport function isJsonRpcResponsePayload(value: any): value is JsonRpcResponsePayload {\n  if (isNil(value)) return false;\n  return (\n    !isUndefined(value.jsonrpc) && !isUndefined(value.id) && (!isUndefined(value.result) || !isUndefined(value.error))\n  );\n}\n\n/**\n * Assert `value` is a Magic SDK payload method identifier.\n */\nexport function isMagicPayloadMethod(value?: any): value is MagicPayloadMethod {\n  if (isNil(value)) return false;\n  return typeof value === 'string' && Object.values(MagicPayloadMethod).includes(value as any);\n}\n\n/**\n * Assert `value` is an expected JSON RPC error code.\n */\nexport function isJsonRpcErrorCode(value?: any): value is RPCErrorCode {\n  if (isNil(value)) return false;\n  return typeof value === 'number' && Object.values(RPCErrorCode).includes(value);\n}\n\n/**\n * Assert `value` is an empty, plain object.\n */\nexport function isEmpty(value?: any): value is {} {\n  if (!value) return true;\n\n  for (const key in value) {\n    /* istanbul ignore else */\n    if (Object.hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import type localForage from 'localforage';\nimport type { ViewController } from './view-controller';\nimport type { SDKBase } from './sdk';\nimport type { WithExtensions } from '../modules/base-extension';\n\ntype ConstructorOf<C> = { new (...args: any[]): C };\n\n/**\n * A structure containing details about the current environment.\n * This is guaranteed to be populated before the SDK is instantiated.\n */\nexport interface SDKEnvironment {\n  sdkName: 'magic-sdk' | '@magic-sdk/react-native';\n  version: string;\n  platform: 'web' | 'react-native';\n  defaultEndpoint: string;\n  ViewController: ConstructorOf<ViewController>;\n  configureStorage: () => Promise<typeof localForage>;\n}\n\nexport const SDKEnvironment: SDKEnvironment = {} as any;\n\nexport function createSDK<SDK extends SDKBase>(\n  SDKBaseCtor: ConstructorOf<SDK>,\n  environment: SDKEnvironment,\n): WithExtensions<SDK> {\n  Object.assign(SDKEnvironment, environment);\n  return SDKBaseCtor as any;\n}\n\nexport const sdkNameToEnvName = {\n  'magic-sdk': 'magic-sdk' as const,\n  '@magic-sdk/react-native': 'magic-sdk-rn' as const,\n};\n","import { JsonRpcError, RPCErrorCode, SDKErrorCode, SDKWarningCode } from '@magic-sdk/types';\nimport { isJsonRpcErrorCode } from '../util/type-guards';\nimport { SDKEnvironment } from './sdk-environment';\nimport { Extension } from '../modules/base-extension';\n\n// --- Error/warning classes\n\n/**\n * This error type represents internal SDK errors. This could be developer\n * mistakes (or Magic's mistakes), or execution errors unrelated to standard\n * JavaScript exceptions.\n */\nexport class MagicSDKError extends Error {\n  __proto__ = Error;\n\n  constructor(public code: SDKErrorCode, public rawMessage: string) {\n    super(`Magic SDK Error: [${code}] ${rawMessage}`);\n    Object.setPrototypeOf(this, MagicSDKError.prototype);\n  }\n}\n\n/**\n * This error type communicates exceptions that occur during execution in the\n * Magic `<iframe>` context.\n */\nexport class MagicRPCError extends Error {\n  __proto__ = Error;\n\n  public code: RPCErrorCode | number;\n  public rawMessage: string;\n\n  constructor(sourceError?: JsonRpcError | null) {\n    super();\n\n    const codeNormalized = Number(sourceError?.code);\n    this.rawMessage = sourceError?.message || 'Internal error';\n    this.code = isJsonRpcErrorCode(codeNormalized) ? codeNormalized : RPCErrorCode.InternalError;\n    this.message = `Magic RPC Error: [${this.code}] ${this.rawMessage}`;\n\n    Object.setPrototypeOf(this, MagicRPCError.prototype);\n  }\n}\n\n/**\n * In contrast to `SDKError` objects, this \"warning\" type communicates important\n * context that does not rise to the level of an exception. These should be\n * logged rather than thrown.\n */\nexport class MagicSDKWarning {\n  public message: string;\n\n  constructor(public code: SDKWarningCode, public rawMessage: string) {\n    this.message = `Magic SDK Warning: [${code}] ${rawMessage}`;\n  }\n\n  /**\n   * Logs this warning to the console.\n   */\n  public log() {\n    console.warn(this.message);\n  }\n}\n\n/**\n * This error type is reserved for communicating errors that arise during\n * execution of Magic SDK Extension methods. Compare this to the `SDKError`\n * type, specifically in context of Extensions.\n */\nexport class MagicExtensionError<TData = any> extends Error {\n  __proto__ = Error;\n\n  constructor(ext: Extension<string>, public code: string | number, public rawMessage: string, public data: TData) {\n    super(`Magic Extension Error (${ext.name}): [${code}] ${rawMessage}`);\n    Object.setPrototypeOf(this, MagicExtensionError.prototype);\n  }\n}\n\n/**\n * In contrast to `MagicExtensionError` objects, this \"warning\" type\n * communicates important context that does not rise to the level of an\n * exception. These should be logged rather than thrown.\n */\nexport class MagicExtensionWarning {\n  public message: string;\n\n  constructor(ext: Extension<string>, public code: string | number, public rawMessage: string) {\n    this.message = `Magic Extension Warning (${ext.name}): [${code}] ${rawMessage}`;\n  }\n\n  /**\n   * Logs this warning to the console.\n   */\n  public log() {\n    console.warn(this.message);\n  }\n}\n\n// --- SDK error factories\n\nexport function createMissingApiKeyError() {\n  return new MagicSDKError(\n    SDKErrorCode.MissingApiKey,\n    'Please provide an API key that you acquired from the Magic developer dashboard.',\n  );\n}\n\nexport function createModalNotReadyError() {\n  return new MagicSDKError(SDKErrorCode.ModalNotReady, 'Modal is not ready.');\n}\n\nexport function createMalformedResponseError() {\n  return new MagicSDKError(SDKErrorCode.MalformedResponse, 'Response from the Magic iframe is malformed.');\n}\n\nexport function createExtensionNotInitializedError(member: string) {\n  return new MagicSDKError(\n    SDKErrorCode.ExtensionNotInitialized,\n    `Extensions must be initialized with a Magic SDK instance before \\`Extension.${member}\\` can be accessed. Do not invoke \\`Extension.${member}\\` inside an extension constructor.`,\n  );\n}\n\nexport function createIncompatibleExtensionsError(extensions: Extension<string>[]) {\n  let msg = `Some extensions are incompatible with \\`${SDKEnvironment.sdkName}@${SDKEnvironment.version}\\`:`;\n\n  extensions\n    .filter((ext) => typeof ext.compat !== 'undefined' && ext.compat !== null)\n    .forEach((ext) => {\n      const compat = ext.compat![SDKEnvironment.sdkName];\n\n      /* istanbul ignore else */\n      if (typeof compat === 'string') {\n        msg += `\\n  - Extension \\`${ext.name}\\` supports version(s) \\`${compat}\\``;\n      } else if (!compat) {\n        msg += `\\n  - Extension \\`${ext.name}\\` does not support ${SDKEnvironment.platform} environments.`;\n      }\n\n      // Else case is irrelevant here here\n      // (we filter out extensions with missing `compat` field)\n    });\n\n  return new MagicSDKError(SDKErrorCode.IncompatibleExtensions, msg);\n}\n\nexport function createInvalidArgumentError(options: {\n  procedure: string;\n  argument: number;\n  expected: string;\n  received: string;\n}) {\n  /**\n   * Parses the argument index (given by `argument`) to attach the correct ordinal suffix.\n   * (i.e.: 1st, 2nd, 3rd, 4th, etc.)\n   */\n  const ordinalSuffix = (i: number) => {\n    const iAdjusted = i + 1; // Argument is zero-indexed.\n    const j = iAdjusted % 10;\n    const k = iAdjusted % 100;\n    if (j === 1 && k !== 11) return `${iAdjusted}st`;\n    if (j === 2 && k !== 12) return `${iAdjusted}nd`;\n    if (j === 3 && k !== 13) return `${iAdjusted}rd`;\n    return `${iAdjusted}th`;\n  };\n\n  return new MagicSDKError(\n    SDKErrorCode.InvalidArgument,\n    `Invalid ${ordinalSuffix(options.argument)} argument given to \\`${options.procedure}\\`.\\n` +\n      `  Expected: \\`${options.expected}\\`\\n` +\n      `  Received: \\`${options.received}\\``,\n  );\n}\n\n// --- SDK warning factories\n\nexport function createDuplicateIframeWarning() {\n  return new MagicSDKWarning(SDKWarningCode.DuplicateIframe, 'Duplicate iframes found.');\n}\n\nexport function createSynchronousWeb3MethodWarning() {\n  return new MagicSDKWarning(\n    SDKWarningCode.SyncWeb3Method,\n    'Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.',\n  );\n}\n\nexport function createReactNativeEndpointConfigurationWarning() {\n  return new MagicSDKWarning(\n    SDKWarningCode.ReactNativeEndpointConfiguration,\n    `CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \\`endpoint\\` parameter SHOULD NOT be provided. The Magic \\`<iframe>\\` is automatically wrapped by a WebView pointed at \\`${SDKEnvironment.defaultEndpoint}\\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`,\n  );\n}\n\nexport function createDeprecationWarning(options: {\n  method: string;\n  removalVersions: { [P in 'magic-sdk' | '@magic-sdk/react-native']: string };\n  useInstead?: string;\n}) {\n  const { method, removalVersions, useInstead } = options;\n\n  const removalVersion = removalVersions[SDKEnvironment.sdkName];\n  const useInsteadSuffix = useInstead ? ` Use \\`${useInstead}\\` instead.` : '';\n  const message = `\\`${method}\\` will be removed from \\`${SDKEnvironment.sdkName}\\` in version \\`${removalVersion}\\`.${useInsteadSuffix}`;\n\n  return new MagicSDKWarning(SDKWarningCode.DeprecationNotice, message);\n}\n","function* createIntGenerator(): Generator<number, number, void> {\n  let index = 0;\n\n  while (true) {\n    /* istanbul ignore next */\n    if (index < Number.MAX_SAFE_INTEGER) yield ++index;\n    else index = 0;\n  }\n}\n\nconst intGenerator = createIntGenerator();\n\n/**\n * Get an integer ID for attaching to a JSON RPC request payload.\n */\nexport function getPayloadId(): number {\n  return intGenerator.next().value;\n}\n","/* eslint-disable no-param-reassign */\n\nimport { JsonRpcRequestPayload, JsonRpcResponsePayload, JsonRpcError } from '@magic-sdk/types';\nimport { isJsonRpcResponsePayload } from '../util/type-guards';\nimport { getPayloadId } from '../util/get-payload-id';\n\nconst payloadPreprocessedSymbol = Symbol('Payload pre-processed by Magic SDK');\n\n/**\n * To avoid \"pre-processing\" a payload more than once (and needlessly\n * incrementing our payload ID generator), we attach a symbol to detect a\n * payloads we've already visited.\n */\nfunction markPayloadAsPreprocessed<T extends Partial<JsonRpcRequestPayload>>(payload: T): T {\n  Object.defineProperty(payload, payloadPreprocessedSymbol, {\n    value: true,\n    enumerable: false,\n  });\n\n  return payload;\n}\n\n/**\n * Returns `true` if the payload has been visited by our \"pre-processing,\" in\n * `standardizeJsonRpcRequestPayload(...)`.\n */\nfunction isPayloadPreprocessed<T extends Partial<JsonRpcRequestPayload>>(payload: T) {\n  return !!(payload as any)[payloadPreprocessedSymbol];\n}\n\n/**\n * Returns a full `JsonRpcRequestPayload` from a potentially incomplete payload\n * object. This method mutates the given `payload` to preserve compatibility\n * with external libraries that perform their own `JsonRpcRequestPayload.id`\n * check to associate responses (such as `web3`).\n *\n * This function is no-op if the payload has already been processed before.\n */\nexport function standardizeJsonRpcRequestPayload(payload: Partial<JsonRpcRequestPayload>) {\n  if (!isPayloadPreprocessed(payload)) {\n    payload.jsonrpc = payload.jsonrpc ?? '2.0';\n    payload.id = getPayloadId();\n    payload.method = payload.method ?? 'noop';\n    payload.params = payload.params ?? [];\n\n    markPayloadAsPreprocessed(payload);\n  }\n\n  /* eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion */\n  return payload as JsonRpcRequestPayload;\n}\n\n/**\n * Build a valid JSON RPC payload for emitting to the Magic SDK iframe relayer.\n */\nexport function createJsonRpcRequestPayload(method: string, params: any[] = []): JsonRpcRequestPayload {\n  return markPayloadAsPreprocessed({\n    params,\n    method,\n    jsonrpc: '2.0',\n    id: getPayloadId(),\n  });\n}\n\n/**\n * Formats and standardizes a JSON RPC 2.0 response from a number of potential\n * sources.\n */\nexport class JsonRpcResponse<ResultType = any> {\n  private readonly _jsonrpc: string;\n  private readonly _id: string | number | null;\n  private _result?: ResultType | null;\n  private _error?: JsonRpcError | null;\n\n  constructor(responsePayload: JsonRpcResponsePayload);\n  constructor(response: JsonRpcResponse<ResultType>);\n  constructor(requestPayload: JsonRpcRequestPayload);\n  constructor(responseOrPayload: JsonRpcResponsePayload | JsonRpcResponse<ResultType> | JsonRpcRequestPayload) {\n    if (responseOrPayload instanceof JsonRpcResponse) {\n      this._jsonrpc = responseOrPayload.payload.jsonrpc;\n      this._id = responseOrPayload.payload.id;\n      this._result = responseOrPayload.payload.result;\n      this._error = responseOrPayload.payload.error;\n    } else if (isJsonRpcResponsePayload(responseOrPayload)) {\n      this._jsonrpc = responseOrPayload.jsonrpc;\n      this._id = responseOrPayload.id;\n      this._result = responseOrPayload.result;\n      this._error = responseOrPayload.error;\n    } else {\n      this._jsonrpc = responseOrPayload.jsonrpc;\n      this._id = responseOrPayload.id;\n      this._result = undefined;\n      this._error = undefined;\n    }\n  }\n\n  public applyError(error?: JsonRpcError | null) {\n    this._error = error;\n    return this;\n  }\n\n  public applyResult(result?: ResultType | null) {\n    this._result = result;\n    return this;\n  }\n\n  public get hasError() {\n    return typeof this._error !== 'undefined' && this._error !== null;\n  }\n\n  public get hasResult() {\n    return typeof this._result !== 'undefined';\n  }\n\n  public get payload(): JsonRpcResponsePayload {\n    return {\n      jsonrpc: this._jsonrpc,\n      id: this._id,\n      result: this._result,\n      error: this._error,\n    };\n  }\n}\n","import EventEmitter from 'eventemitter3';\n\nexport type EventsDefinition = { [K in string | symbol]: (...args: any[]) => void } | void;\n\n/**\n * An extension of `EventEmitter` (provided by `eventemitter3`) with an adjusted\n * type interface that supports the unique structure of Magic SDK modules.\n */\nexport class TypedEmitter<Events extends EventsDefinition = void> extends EventEmitter<\n  Events extends void ? string | symbol : Events\n> {}\n\ntype ChainingMethods = 'on' | 'once' | 'addListener' | 'off' | 'removeListener' | 'removeAllListeners';\ntype NonChainingMethods = 'emit' | 'eventNames' | 'listeners' | 'listenerCount';\n\ntype ReplaceReturnType<T extends (...a: any) => any, TNewReturn> = (...a: Parameters<T>) => TNewReturn;\n\n/**\n * Creates a `TypedEmitter` instance and returns helper functions for easily\n * mixing `TypedEmitter` methods into other objects.\n */\nexport function createTypedEmitter<Events extends EventsDefinition = void>() {\n  const emitter = new TypedEmitter<Events>();\n\n  const createChainingEmitterMethod = <T1 extends ChainingMethods, T2>(\n    method: T1,\n    source: T2,\n  ): ReplaceReturnType<TypedEmitter[T1], T2> => {\n    return (...args: any[]) => {\n      (emitter as any)[method].apply(emitter, args);\n      return source;\n    };\n  };\n\n  const createBoundEmitterMethod = <T extends NonChainingMethods>(method: T): TypedEmitter[T] => {\n    return (...args: any[]) => {\n      return (emitter as any)[method].apply(emitter, args);\n    };\n  };\n\n  return {\n    emitter,\n    createChainingEmitterMethod,\n    createBoundEmitterMethod,\n  };\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { TypedEmitter, EventsDefinition, createTypedEmitter } from './events';\n\n/**\n * Extends `Promise` with a polymorphic `this` type to accomodate arbitrary\n * `Promise` API extensions.\n */\ninterface ExtendedPromise<T> extends Promise<T> {\n  then<TResult1 = T, TResult2 = never>(\n    onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null,\n  ): ExtendedPromise<TResult1 | TResult2> & this;\n\n  catch<TResult = never>(\n    onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | undefined | null,\n  ): ExtendedPromise<T | TResult> & this;\n\n  finally(onfinally?: (() => void) | undefined | null): ExtendedPromise<T> & this;\n}\n\n/**\n * A `Promise` and `EventEmitter` all in one!\n */\nexport type PromiEvent<TResult, TEvents extends EventsDefinition = void> = ExtendedPromise<TResult> &\n  TypedEmitter<TEvents extends void ? DefaultEvents<TResult> : TEvents & DefaultEvents<TResult>>;\n\n/**\n * Default events attached to every `PromiEvent`.\n */\ntype DefaultEvents<TResult> = {\n  done: (result: TResult) => void;\n  error: (reason: any) => void;\n  settled: () => void;\n};\n\n/**\n * A `Promise` executor with can be optionally asynchronous.\n */\ntype AsyncPromiseExecutor<TResult> = (\n  resolve: (value: TResult | PromiseLike<TResult>) => void,\n  reject: (reason?: any) => void,\n) => void | Promise<void>;\n\nconst promiEventBrand = Symbol('isPromiEvent');\n\n/**\n * Returns `true` if the given `value` is a `PromiEvent`.\n */\nexport function isPromiEvent(value: any): value is PromiEvent<any> {\n  return !!value[promiEventBrand];\n}\n\n/**\n * Create a native JavaScript `Promise` overloaded with strongly-typed methods\n * from `EventEmitter`.\n */\nexport function createPromiEvent<TResult, TEvents extends EventsDefinition = void>(\n  executor: AsyncPromiseExecutor<TResult>,\n): PromiEvent<TResult, TEvents extends void ? DefaultEvents<TResult> : TEvents & DefaultEvents<TResult>> {\n  const promise = createPromise(executor);\n  const { createBoundEmitterMethod, createChainingEmitterMethod } = createTypedEmitter<\n    TEvents & DefaultEvents<TResult>\n  >();\n\n  // We save the original `Promise` methods to the following symbols so we can\n  // access them internally.\n  const thenSymbol = Symbol('Promise.then');\n  const catchSymbol = Symbol('Promise.catch');\n  const finallySymbol = Symbol('Promise.finally');\n\n  /**\n   * Ensures the next object in the `PromiEvent` chain is overloaded with\n   * `EventEmitter` methods.\n   */\n  const createChainingPromiseMethod =\n    (method: typeof thenSymbol | typeof catchSymbol | typeof finallySymbol, source: Promise<any>) =>\n    (...args: any[]) => {\n      const nextPromise = (source as any)[method].apply(source, args);\n      return promiEvent(nextPromise);\n    };\n\n  /**\n   * Builds a `PromiEvent` by assigning `EventEmitter` methods to a native\n   * `Promise` object.\n   */\n  const promiEvent = (source: any) => {\n    return Object.assign(source, {\n      [promiEventBrand]: true,\n\n      [thenSymbol]: source[thenSymbol] || source.then,\n      [catchSymbol]: source[catchSymbol] || source.catch,\n      [finallySymbol]: source[finallySymbol] || source.finally,\n\n      then: createChainingPromiseMethod(thenSymbol, source),\n      catch: createChainingPromiseMethod(catchSymbol, source),\n      finally: createChainingPromiseMethod(finallySymbol, source),\n\n      on: createChainingEmitterMethod('on', source),\n      once: createChainingEmitterMethod('once', source),\n      addListener: createChainingEmitterMethod('addListener', source),\n\n      off: createChainingEmitterMethod('off', source),\n      removeListener: createChainingEmitterMethod('removeListener', source),\n      removeAllListeners: createChainingEmitterMethod('removeAllListeners', source),\n\n      emit: createBoundEmitterMethod('emit'),\n      eventNames: createBoundEmitterMethod('eventNames'),\n      listeners: createBoundEmitterMethod('listeners'),\n      listenerCount: createBoundEmitterMethod('listenerCount'),\n    });\n  };\n\n  const result = promiEvent(\n    promise.then(\n      (resolved) => {\n        // Emit default completion events and resolve result.\n        result.emit('done', resolved);\n        result.emit('settled');\n        return resolved;\n      },\n\n      (err) => {\n        // Emit default error events and re-throw.\n        result.emit('error', err);\n        result.emit('settled');\n        throw err;\n      },\n    ),\n  );\n\n  return result;\n}\n\n/**\n * Creates a `Promise` with an **async executor** that automatically catches\n * errors occurring within the executor. Nesting promises in this way is usually\n * deemed an _anti-pattern_, but it's useful and clean when promisifying the\n * event-based code that's inherent to JSON RPC.\n *\n * So, here we solve the issue of nested promises by ensuring that no errors\n * mistakenly go unhandled!\n */\nexport function createPromise<TResult>(executor: AsyncPromiseExecutor<TResult>) {\n  return new Promise<TResult>((resolve, reject) => {\n    const result = executor(resolve, reject);\n    Promise.resolve(result).catch(reject);\n  });\n}\n","import { SDKEnvironment } from '../core/sdk-environment';\n\nlet lf: LocalForage;\n\n/**\n * Proxies `localforage` methods with strong-typing.\n */\nfunction proxyLocalForageMethod<TMethod extends keyof LocalForageDbMethods>(method: TMethod): LocalForage[TMethod] {\n  return async (...args: any[]) => {\n    /* istanbul ignore else */\n    if (!lf) lf = await SDKEnvironment.configureStorage();\n    await lf.ready();\n    return (lf[method] as any)(...args);\n  };\n}\n\nexport const getItem = proxyLocalForageMethod('getItem');\nexport const setItem = proxyLocalForageMethod('setItem');\nexport const removeItem = proxyLocalForageMethod('removeItem');\nexport const clear = proxyLocalForageMethod('clear');\nexport const length = proxyLocalForageMethod('length');\nexport const key = proxyLocalForageMethod('key');\nexport const keys = proxyLocalForageMethod('keys');\nexport const iterate = proxyLocalForageMethod('iterate');\n","import { JsonRpcRequestPayload, MagicOutgoingWindowMessage, MagicIncomingWindowMessage } from '@magic-sdk/types';\nimport { createMalformedResponseError, MagicRPCError } from '../core/sdk-exceptions';\nimport type { SDKBase } from '../core/sdk';\nimport { standardizeJsonRpcRequestPayload } from '../core/json-rpc';\nimport { createPromiEvent } from '../util/promise-tools';\nimport type { ViewController } from '../core/view-controller';\nimport type { EventsDefinition } from '../util/events';\n\nexport class BaseModule {\n  constructor(protected sdk: SDKBase) {}\n\n  /**\n   * The `ViewController` for the SDK instance registered to this module.\n   */\n  protected get overlay(): ViewController {\n    return (this.sdk as any).overlay;\n  }\n\n  /**\n   * Emits promisified requests to the Magic `<iframe>` context.\n   */\n  protected request<ResultType = any, Events extends EventsDefinition = void>(payload: Partial<JsonRpcRequestPayload>) {\n    const responsePromise = this.overlay.post<ResultType>(\n      MagicOutgoingWindowMessage.MAGIC_HANDLE_REQUEST,\n      standardizeJsonRpcRequestPayload(payload),\n    );\n\n    // PromiEvent-ify the response.\n    const promiEvent = createPromiEvent<ResultType, Events>((resolve, reject) => {\n      responsePromise\n        .then((res) => {\n          cleanupEvents();\n          if (res.hasError) reject(new MagicRPCError(res.payload.error));\n          else if (res.hasResult) resolve(res.payload.result as ResultType);\n          else throw createMalformedResponseError();\n        })\n        .catch((err) => {\n          cleanupEvents();\n          reject(err);\n        });\n    });\n\n    // Listen for events from the `<iframe>` associated with the current payload\n    // and emit those to `PromiEvent` subscribers.\n    const cleanupEvents = this.overlay.on(MagicIncomingWindowMessage.MAGIC_HANDLE_EVENT, (evt) => {\n      const { response } = evt.data;\n\n      if (response.id === payload.id && response.result?.event) {\n        const { event, params = [] } = response.result;\n        promiEvent.emit(event, ...params);\n      }\n    });\n\n    return promiEvent;\n  }\n}\n","import { MagicPayloadMethod, LoginWithMagicLinkConfiguration, LoginWithSmsConfiguration } from '@magic-sdk/types';\nimport { BaseModule } from './base-module';\nimport { createJsonRpcRequestPayload } from '../core/json-rpc';\nimport { SDKEnvironment } from '../core/sdk-environment';\n\ntype LoginWithMagicLinkEvents = {\n  'email-sent': () => void;\n  'email-not-deliverable': () => void;\n  retry: () => void;\n};\n\nexport class AuthModule extends BaseModule {\n  /**\n   * Initiate the \"magic link\" login flow for a user. If the flow is successful,\n   * this method will return a Decentralized ID token (with a default lifespan\n   * of 15 minutes).\n   */\n  public loginWithMagicLink(configuration: LoginWithMagicLinkConfiguration) {\n    const { email, showUI = true, redirectURI } = configuration;\n\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LoginWithMagicLinkTestMode : MagicPayloadMethod.LoginWithMagicLink,\n      [{ email, showUI, redirectURI }],\n    );\n    return this.request<string | null, LoginWithMagicLinkEvents>(requestPayload);\n  }\n\n  /**\n   * Initiate an SMS login flow for a user. If successful,\n   * this method will return a Decenteralized ID token (with a default lifespan\n   * of 15 minutes)\n   */\n  public loginWithSMS(configuration: LoginWithSmsConfiguration) {\n    const { phoneNumber } = configuration;\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LoginWithSmsTestMode : MagicPayloadMethod.LoginWithSms,\n      [{ phoneNumber, showUI: true }],\n    );\n    return this.request<string | null>(requestPayload);\n  }\n\n  /**\n   * Log a user in with a special one-time-use credential token. This is\n   * currently used during magic link flows with a configured redirect to\n   * hydrate the user session at the end of the flow. If the flow is successful,\n   * this method will return a Decentralized ID token (with a default lifespan\n   * of 15 minutes).\n   *\n   * If no argument is provided, a credential is automatically parsed from\n   * `window.location.search`.\n   */\n  public loginWithCredential(credentialOrQueryString?: string) {\n    let credentialResolved = credentialOrQueryString ?? '';\n\n    if (!credentialOrQueryString && SDKEnvironment.platform === 'web') {\n      credentialResolved = window.location.search;\n\n      // Remove the query from the redirect callback as a precaution.\n      const urlWithoutQuery = window.location.origin + window.location.pathname;\n      window.history.replaceState(null, '', urlWithoutQuery);\n    }\n\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LoginWithCredentialTestMode : MagicPayloadMethod.LoginWithCredential,\n      [credentialResolved],\n    );\n\n    return this.request<string | null>(requestPayload);\n  }\n}\n","/* eslint-disable no-bitwise */\nexport function uuid() {\n  const u = window.crypto.getRandomValues(new Uint8Array(16));\n\n  // set the version bit to v4\n  u[6] = (u[6] & 0x0f) | 0x40;\n\n  // set the variant bit to \"don't care\" (yes, the RFC\n  // calls it that)\n  u[8] = (u[8] & 0xbf) | 0x80;\n\n  // hex encode them and add the dashes\n  let uid = '';\n  uid += u[0].toString(16);\n  uid += u[1].toString(16);\n  uid += u[2].toString(16);\n  uid += u[3].toString(16);\n  uid += '-';\n\n  uid += u[4].toString(16);\n  uid += u[5].toString(16);\n  uid += '-';\n\n  uid += u[6].toString(16);\n  uid += u[7].toString(16);\n  uid += '-';\n\n  uid += u[8].toString(16);\n  uid += u[9].toString(16);\n  uid += '-';\n\n  uid += u[10].toString(16);\n  uid += u[11].toString(16);\n  uid += u[12].toString(16);\n  uid += u[13].toString(16);\n  uid += u[14].toString(16);\n  uid += u[15].toString(16);\n\n  return uid;\n}\n","import { setItem, getItem, removeItem } from './storage';\nimport { uuid } from './uuid';\n\nexport const STORE_KEY_PRIVATE_KEY = 'STORE_KEY_PRIVATE_KEY';\nexport const STORE_KEY_PUBLIC_JWK = 'STORE_KEY_PUBLIC_JWK';\nconst ALGO_NAME = 'ECDSA';\nconst ALGO_CURVE = 'P-256';\n\nconst EC_GEN_PARAMS: EcKeyGenParams = {\n  name: ALGO_NAME,\n  namedCurve: ALGO_CURVE,\n};\nconst EC_IMPORT_PARAMS: EcKeyImportParams = {\n  name: ALGO_NAME,\n  namedCurve: ALGO_CURVE,\n};\n\nexport function clearKeys() {\n  removeItem(STORE_KEY_PUBLIC_JWK);\n  removeItem(STORE_KEY_PRIVATE_KEY);\n}\n\nexport async function createJwt() {\n  // will return undefiend is webcrypto is not supported\n  const publicJwk = await getPublicKey();\n\n  if (!publicJwk) {\n    console.info('unable to create public key or webcrypto is unsupported');\n    return undefined;\n  }\n\n  const { subtle } = window.crypto;\n  const privateJwk = await getItem<CryptoKey>(STORE_KEY_PRIVATE_KEY);\n\n  if (!privateJwk || !subtle) {\n    console.info('unable to find private key or webcrypto unsupported');\n    return undefined;\n  }\n\n  const claims = {\n    iat: Math.floor(new Date().getTime() / 1000),\n    jti: uuid(),\n  };\n\n  const headers = {\n    typ: 'dpop+jwt',\n    alg: 'ES256',\n    jwk: publicJwk,\n  };\n\n  const jws = {\n    protected: strToUrlBase64(JSON.stringify(headers)),\n    claims: strToUrlBase64(JSON.stringify(claims)),\n  };\n\n  const data = strToUint8(`${jws.protected}.${jws.claims}`);\n  const sigType = { name: ALGO_NAME, hash: { name: 'SHA-256' } };\n\n  const sig = uint8ToUrlBase64(new Uint8Array(await subtle.sign(sigType, privateJwk, data)));\n  return `${jws.protected}.${jws.claims}.${sig}`;\n}\n\nasync function getPublicKey() {\n  if (!isWebCryptoSupported()) {\n    console.info('webcrypto is not supported');\n    return undefined;\n  }\n\n  if (!(await getItem(STORE_KEY_PUBLIC_JWK))) {\n    await generateWCKP();\n  }\n\n  return getItem(STORE_KEY_PUBLIC_JWK) as JsonWebKey;\n}\n\nasync function generateWCKP() {\n  // to avoid a nasty babel bug we have to hoist this above the await ourselves\n  // https://github.com/rpetrich/babel-plugin-transform-async-to-promises/issues/20\n  let jwkPublicKey = null;\n  const { subtle } = window.crypto;\n  const kp = await subtle.generateKey(\n    EC_GEN_PARAMS,\n    true, // need to export the public key which means private exports too\n    ['sign'],\n  );\n\n  // export keys so we can send the public key.\n  const jwkPrivateKey = await subtle.exportKey('jwk', kp.privateKey!);\n  jwkPublicKey = await subtle.exportKey('jwk', kp.publicKey!);\n\n  // reimport the private key so it becomes non exportable when persisting.\n  const nonExportPrivateKey = await subtle.importKey('jwk', jwkPrivateKey, EC_IMPORT_PARAMS, false, ['sign']);\n\n  // persist keys\n  await setItem(STORE_KEY_PRIVATE_KEY, nonExportPrivateKey);\n  // persist the jwk public key since it needs to be exported anyways\n  await setItem(STORE_KEY_PUBLIC_JWK, jwkPublicKey);\n}\n\nfunction isWebCryptoSupported() {\n  const hasCrypto = typeof window !== 'undefined' && !!(window.crypto as any);\n  const hasSubtleCrypto = hasCrypto && !!(window.crypto.subtle as any);\n\n  return hasCrypto && hasSubtleCrypto;\n}\n\nfunction strToUrlBase64(str: string) {\n  return binToUrlBase64(utf8ToBinaryString(str));\n}\n\nfunction strToUint8(str: string) {\n  return new TextEncoder().encode(str);\n}\n\nfunction binToUrlBase64(bin: string) {\n  return btoa(bin).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+/g, '');\n}\n\nfunction utf8ToBinaryString(str: string) {\n  const escstr = encodeURIComponent(str);\n  // replaces any uri escape sequence, such as %0A,\n  // with binary escape, such as 0x0A\n  return escstr.replace(/%([0-9A-F]{2})/g, (_, p1) => String.fromCharCode(parseInt(p1, 16)));\n}\n\nfunction uint8ToUrlBase64(uint8: Uint8Array) {\n  let bin = '';\n  uint8.forEach((code) => {\n    bin += String.fromCharCode(code);\n  });\n  return binToUrlBase64(bin);\n}\n","import {\n  GetIdTokenConfiguration,\n  MagicPayloadMethod,\n  MagicUserMetadata,\n  GenerateIdTokenConfiguration,\n  UpdateEmailConfiguration,\n} from '@magic-sdk/types';\nimport { BaseModule } from './base-module';\nimport { createJsonRpcRequestPayload } from '../core/json-rpc';\nimport { clearKeys } from '../util/web-crypto';\n\ntype UpdateEmailEvents = {\n  'email-sent': () => void;\n  'email-not-deliverable': () => void;\n  'old-email-confirmed': () => void;\n  'new-email-confirmed': () => void;\n  retry: () => void;\n};\n\nexport class UserModule extends BaseModule {\n  /** */\n  public getIdToken(configuration?: GetIdTokenConfiguration) {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.GetIdTokenTestMode : MagicPayloadMethod.GetIdToken,\n      [configuration],\n    );\n    return this.request<string>(requestPayload);\n  }\n\n  /** */\n  public generateIdToken(configuration?: GenerateIdTokenConfiguration) {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.GenerateIdTokenTestMode : MagicPayloadMethod.GenerateIdToken,\n      [configuration],\n    );\n    return this.request<string>(requestPayload);\n  }\n\n  /** */\n  public getMetadata() {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.GetMetadataTestMode : MagicPayloadMethod.GetMetadata,\n    );\n    return this.request<MagicUserMetadata>(requestPayload);\n  }\n\n  /** */\n  public updateEmail(configuration: UpdateEmailConfiguration) {\n    const { email, showUI = true } = configuration;\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.UpdateEmailTestMode : MagicPayloadMethod.UpdateEmail,\n      [{ email, showUI }],\n    );\n    return this.request<string | null, UpdateEmailEvents>(requestPayload);\n  }\n\n  /** */\n  public isLoggedIn() {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.IsLoggedInTestMode : MagicPayloadMethod.IsLoggedIn,\n    );\n    return this.request<boolean>(requestPayload);\n  }\n\n  /** */\n  public logout() {\n    clearKeys();\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LogoutTestMode : MagicPayloadMethod.Logout,\n    );\n    return this.request<boolean>(requestPayload);\n  }\n\n  /** */\n  public showSettings() {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.UserSettingsTestMode : MagicPayloadMethod.UserSettings,\n    );\n    return this.request<MagicUserMetadata>(requestPayload);\n  }\n}\n","/* eslint-disable consistent-return, prefer-spread */\n\nimport {\n  JsonRpcRequestPayload,\n  JsonRpcRequestCallback,\n  MagicOutgoingWindowMessage,\n  JsonRpcBatchRequestCallback,\n  JsonRpcResponsePayload,\n} from '@magic-sdk/types';\nimport { BaseModule } from './base-module';\nimport { createInvalidArgumentError, MagicRPCError, createSynchronousWeb3MethodWarning } from '../core/sdk-exceptions';\nimport { createJsonRpcRequestPayload, standardizeJsonRpcRequestPayload, JsonRpcResponse } from '../core/json-rpc';\nimport { PromiEvent } from '../util/promise-tools';\nimport { createTypedEmitter, EventsDefinition, TypedEmitter } from '../util/events';\n\nconst { createBoundEmitterMethod, createChainingEmitterMethod } = createTypedEmitter();\n\n/** */\nexport class RPCProviderModule extends BaseModule implements TypedEmitter {\n  // Implements EIP 1193:\n  // https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1193.md\n\n  public readonly isMagic = true;\n\n  /* eslint-disable prettier/prettier */\n  public sendAsync(payload: Partial<JsonRpcRequestPayload>, onRequestComplete: JsonRpcRequestCallback): void;\n  public sendAsync(payload: Partial<JsonRpcRequestPayload>[], onRequestComplete: JsonRpcBatchRequestCallback): void;\n  public sendAsync(\n    payload: Partial<JsonRpcRequestPayload> | Partial<JsonRpcRequestPayload>[],\n    onRequestComplete: JsonRpcRequestCallback | JsonRpcBatchRequestCallback,\n  ): void;\n  /* eslint-enable prettier/prettier */\n  public sendAsync(\n    payload: Partial<JsonRpcRequestPayload> | Partial<JsonRpcRequestPayload>[],\n    onRequestComplete: JsonRpcRequestCallback | JsonRpcBatchRequestCallback,\n  ): void {\n    if (!onRequestComplete) {\n      throw createInvalidArgumentError({\n        procedure: 'Magic.rpcProvider.sendAsync',\n        argument: 1,\n        expected: 'function',\n        received: onRequestComplete === null ? 'null' : typeof onRequestComplete,\n      });\n    }\n\n    if (Array.isArray(payload)) {\n      this.overlay\n        .post(\n          MagicOutgoingWindowMessage.MAGIC_HANDLE_REQUEST,\n          payload.map((p) => {\n            const standardizedPayload = standardizeJsonRpcRequestPayload(p);\n            this.prefixPayloadMethodForTestMode(standardizedPayload);\n            return standardizedPayload;\n          }),\n        )\n        .then((batchResponse) => {\n          (onRequestComplete as JsonRpcBatchRequestCallback)(\n            null,\n            batchResponse.map((response) => ({\n              ...response.payload,\n              error: response.hasError ? new MagicRPCError(response.payload.error) : null,\n            })),\n          );\n        });\n    } else {\n      const finalPayload = standardizeJsonRpcRequestPayload(payload);\n      this.prefixPayloadMethodForTestMode(finalPayload);\n      this.overlay.post(MagicOutgoingWindowMessage.MAGIC_HANDLE_REQUEST, finalPayload).then((response) => {\n        (onRequestComplete as JsonRpcRequestCallback)(\n          response.hasError ? new MagicRPCError(response.payload.error) : null,\n          response.payload,\n        );\n      });\n    }\n  }\n\n  /* eslint-disable prettier/prettier */\n  public send<ResultType = any>(method: string, params?: any[]): PromiEvent<ResultType>;\n  public send(\n    payload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n    onRequestComplete: JsonRpcRequestCallback,\n  ): void;\n  public send<ResultType>(payload: JsonRpcRequestPayload, none: void): JsonRpcResponsePayload<ResultType>;\n  /* eslint-enable prettier/prettier */\n  public send<ResultType = any>(\n    payloadOrMethod: string | JsonRpcRequestPayload | JsonRpcRequestPayload[],\n    onRequestCompleteOrParams: JsonRpcRequestCallback | any[] | void,\n  ): PromiEvent<ResultType> | JsonRpcResponsePayload<ResultType> | void {\n    // Case #1\n    // Web3 >= 1.0.0-beta.38 calls `send` with method and parameters.\n    if (typeof payloadOrMethod === 'string') {\n      const payload = createJsonRpcRequestPayload(\n        payloadOrMethod,\n        Array.isArray(onRequestCompleteOrParams) ? onRequestCompleteOrParams : [],\n      );\n      return this.request(payload) as any;\n    }\n\n    // Case #2\n    // Web3 <= 1.0.0-beta.37 uses `send` with a callback for async queries.\n    if (Array.isArray(payloadOrMethod) || !!onRequestCompleteOrParams) {\n      /* eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion */\n      this.sendAsync(payloadOrMethod, onRequestCompleteOrParams as any);\n      return;\n    }\n\n    // Case #3\n    // Legacy synchronous methods (unsupported).\n    const warning = createSynchronousWeb3MethodWarning();\n    warning.log();\n    return new JsonRpcResponse(payloadOrMethod).applyError({\n      code: -32603,\n      message: warning.rawMessage,\n    }).payload;\n  }\n\n  public enable() {\n    const requestPayload = createJsonRpcRequestPayload('eth_accounts');\n    return this.request<string[]>(requestPayload);\n  }\n\n  /**\n   * Here, we wrap `BaseModule.request` with an additional check\n   * to determine if the RPC method requires a test-mode prefix.\n   */\n  protected request<ResultType = any, Events extends EventsDefinition = void>(payload: Partial<JsonRpcRequestPayload>) {\n    this.prefixPayloadMethodForTestMode(payload);\n    return super.request<ResultType, Events>(payload);\n  }\n\n  /**\n   * Prefixes Ethereum RPC methods with a `testMode` identifier. This is done so\n   * that Magic's <iframe> can handle signing methods using test-specific keys.\n   */\n  private prefixPayloadMethodForTestMode(payload: Partial<JsonRpcRequestPayload>) {\n    const testModePrefix = 'testMode/eth/';\n\n    // In test mode, we prefix all RPC methods with `test/` so that the\n    // Magic <iframe> can handle them without requiring network calls.\n    if (this.sdk.testMode) {\n      // eslint-disable-next-line no-param-reassign\n      payload.method = `${testModePrefix}${payload.method}`;\n    }\n  }\n\n  public on = createChainingEmitterMethod('on', this);\n  public once = createChainingEmitterMethod('once', this);\n  public addListener = createChainingEmitterMethod('addListener', this);\n\n  public off = createChainingEmitterMethod('off', this);\n  public removeListener = createChainingEmitterMethod('removeListener', this);\n  public removeAllListeners = createChainingEmitterMethod('removeAllListeners', this);\n\n  public emit = createBoundEmitterMethod('emit');\n  public eventNames = createBoundEmitterMethod('eventNames');\n  public listeners = createBoundEmitterMethod('listeners');\n  public listenerCount = createBoundEmitterMethod('listenerCount');\n}\n","/**\n * Builds a `URL` object safely.\n */\nexport function createURL(url: string, base?: string): URL {\n  // Safari raises an error if `undefined` is given to the second argument of\n  // the `URL` constructor.\n  return base ? new URL(url, base) : new URL(url);\n}\n","import { createJsonRpcRequestPayload, standardizeJsonRpcRequestPayload } from '../core/json-rpc';\nimport { BaseModule } from './base-module';\nimport { SDKBase, MagicSDKAdditionalConfiguration, MagicSDKExtensionsOption } from '../core/sdk';\nimport { createExtensionNotInitializedError, MagicExtensionError, MagicExtensionWarning } from '../core/sdk-exceptions';\nimport { createPromiEvent, encodeJSON, decodeJSON, storage, isPromiEvent } from '../util';\n\ntype AnonymousExtension = 'anonymous extension';\n\ninterface BaseExtension<TName extends string = AnonymousExtension> extends BaseModule {\n  /**\n   * A structure describing the platform and version compatiblity of this\n   * extension.\n   */\n  compat?: {\n    'magic-sdk': boolean | string;\n    '@magic-sdk/react-native': boolean | string;\n  };\n}\n\nconst sdkAccessFields = ['request', 'overlay', 'sdk'];\n\n/**\n * From the `BaseExtension`-derived instance, get the prototype\n * chain up to and including the `BaseModule` class.\n */\nfunction getPrototypeChain<T extends BaseExtension<string>>(instance: T) {\n  let currentProto = Object.getPrototypeOf(instance);\n  const protos = [currentProto];\n\n  while (currentProto !== BaseModule.prototype) {\n    currentProto = Object.getPrototypeOf(currentProto);\n    protos.push(currentProto);\n  }\n\n  return protos;\n}\n\nabstract class BaseExtension<TName extends string = AnonymousExtension> extends BaseModule {\n  public abstract readonly name: TName;\n\n  private __sdk_access_field_descriptors__ = new Map<\n    string,\n    { descriptor: PropertyDescriptor; isPrototypeField: boolean }\n  >();\n  private __is_initialized__ = false;\n\n  protected utils = {\n    createPromiEvent,\n    isPromiEvent,\n    encodeJSON,\n    decodeJSON,\n    createJsonRpcRequestPayload,\n    standardizeJsonRpcRequestPayload,\n    storage,\n  };\n\n  constructor() {\n    super(undefined as any);\n\n    // Disallow SDK access before initialization...\n\n    const allSources = [this, ...getPrototypeChain(this)];\n\n    sdkAccessFields.forEach((prop) => {\n      const allDescriptors = allSources.map((source) => Object.getOwnPropertyDescriptor(source, prop));\n      const sourceIndex = allDescriptors.findIndex((x) => !!x);\n      const isPrototypeField = sourceIndex > 0;\n      const descriptor = allDescriptors[sourceIndex];\n\n      /* istanbul ignore else */\n      if (descriptor) {\n        this.__sdk_access_field_descriptors__.set(prop, { descriptor, isPrototypeField });\n\n        Object.defineProperty(this, prop, {\n          configurable: true,\n          get: () => {\n            throw createExtensionNotInitializedError(prop);\n          },\n        });\n      }\n    });\n  }\n\n  /**\n   * Registers a Magic SDK instance with this Extension.\n   *\n   * @internal\n   */\n  public init(sdk: SDKBase) {\n    if (this.__is_initialized__) return;\n\n    // Replace original property descriptors\n    // for SDK access fields post-initialization.\n    sdkAccessFields.forEach((prop) => {\n      /* istanbul ignore else */\n      if (this.__sdk_access_field_descriptors__.has(prop)) {\n        const { descriptor, isPrototypeField } = this.__sdk_access_field_descriptors__.get(prop)!;\n\n        if (isPrototypeField) {\n          // For prototype fields, we just need the `delete` operator so that\n          // the instance will fallback to the prototype chain itself.\n          delete this[prop as keyof this];\n        } else {\n          Object.defineProperty(this, prop, descriptor);\n        }\n      }\n    });\n\n    this.sdk = sdk;\n    this.__is_initialized__ = true;\n  }\n\n  /**\n   * Creates a deprecation warning wrapped with a native Magic SDK warning type.\n   * Best practice is to warn users of upcoming deprecations at least one major\n   * version before the change is implemented. You can use this method to\n   * communicate deprecations in a manner consistent with Magic SDK core code.\n   */\n  protected createDeprecationWarning(options: {\n    method: string;\n    removalVersion: string;\n    useInstead?: string;\n  }): MagicExtensionWarning {\n    const { method, removalVersion, useInstead } = options;\n\n    const useInsteadSuffix = useInstead ? ` Use \\`${useInstead}\\` instead.` : '';\n    const message = `\\`${method}\\` will be removed from this Extension in version \\`${removalVersion}\\`.${useInsteadSuffix}`;\n    return new MagicExtensionWarning(this, 'DEPRECATION_NOTICE', message);\n  }\n\n  /**\n   * Creates a warning wrapped with a native Magic SDK warning type. This\n   * maintains consistency in warning messaging for consumers of Magic SDK and\n   * this Extension.\n   */\n  protected createWarning(code: string | number, message: string): MagicExtensionWarning {\n    return new MagicExtensionWarning(this, code, message);\n  }\n\n  /**\n   * Creates an error wrapped with a native Magic SDK error type. This maintains\n   * consistency in error handling for consumers of Magic SDK and this\n   * Extension.\n   */\n  protected createError<TData = any>(code: string | number, message: string, data: TData): MagicExtensionError<TData> {\n    return new MagicExtensionError<TData>(this, code, message, data);\n  }\n}\n\nabstract class InternalExtension<TName extends string, TConfig extends any = any> extends BaseExtension<TName> {\n  public abstract readonly config: TConfig;\n}\n\n/**\n * A base class representing \"extensions\" to the core Magic JS APIs. Extensions\n * enable new functionality by composing Magic endpoints methods together.\n */\nexport abstract class Extension<TName extends string = AnonymousExtension> extends BaseExtension<TName> {\n  /**\n   * This is a special constructor used to mark \"official\" extensions. These\n   * extensions are designed for special interaction with the Magic iframe using\n   * custom JSON RPC methods, business logic, and global configurations. This is\n   * intended for internal-use only (and provides no useful advantage to\n   * open-source extension developers over the regular `Extension` class).\n   *\n   * @internal\n   */\n  public static Internal = InternalExtension;\n  public static Anonymous: AnonymousExtension = 'anonymous extension';\n}\n\n/**\n * These fields are exposed on the `Extension` type,\n * but should be hidden from the public interface.\n */\ntype HiddenExtensionFields = 'name' | 'init' | 'config' | 'compat';\n\n/**\n * Gets the type contained in an array type.\n */\ntype UnwrapArray<T extends any[]> = T extends Array<infer P> ? P : never;\n\n/**\n * Create a union type of Extension names from an\n * array of Extension types given by `TExt`.\n */\ntype ExtensionNames<TExt extends Extension<string>[]> = UnwrapArray<TExt> extends Extension<infer R> ? R : never;\n\n/**\n * From the literal Extension name type given by `TExtName`,\n * extract a dictionary of Extension types.\n */\ntype GetExtensionFromName<TExt extends Extension<string>[], TExtName extends string> = {\n  [P in TExtName]: Extract<UnwrapArray<TExt>, Extension<TExtName>>;\n}[TExtName];\n\n/**\n * Wraps a Magic SDK constructor with the necessary type\n * information to support a strongly-typed `Extension` interface.\n */\nexport type WithExtensions<SDK extends SDKBase> = {\n  new <TCustomExtName extends string, TExt extends MagicSDKExtensionsOption<TCustomExtName>>(\n    apiKey: string,\n    options?: MagicSDKAdditionalConfiguration<TCustomExtName, TExt>,\n  ): InstanceWithExtensions<SDK, TExt>;\n};\n\nexport type InstanceWithExtensions<SDK extends SDKBase, TExt extends MagicSDKExtensionsOption> = SDK &\n  {\n    [P in Exclude<\n      TExt extends Extension<string>[] ? ExtensionNames<TExt> : keyof TExt,\n      number | AnonymousExtension\n    >]: TExt extends Extension<string>[]\n      ? Omit<GetExtensionFromName<TExt, P>, HiddenExtensionFields>\n      : TExt extends {\n          [P in Exclude<\n            TExt extends Extension<string>[] ? ExtensionNames<TExt> : keyof TExt,\n            number | AnonymousExtension\n          >]: Extension<string>;\n        }\n      ? Omit<TExt[P], HiddenExtensionFields>\n      : never;\n  };\n","/* eslint-disable no-param-reassign  */\n\nimport { EthNetworkConfiguration, QueryParameters, SupportedLocale } from '@magic-sdk/types';\nimport type { AbstractProvider } from 'web3-core';\nimport { coerce, satisfies } from '../util/semver';\nimport { encodeJSON } from '../util/base64-json';\nimport {\n  createMissingApiKeyError,\n  createReactNativeEndpointConfigurationWarning,\n  createIncompatibleExtensionsError,\n} from './sdk-exceptions';\nimport { AuthModule } from '../modules/auth';\nimport { UserModule } from '../modules/user';\nimport { RPCProviderModule } from '../modules/rpc-provider';\nimport { ViewController } from './view-controller';\nimport { createURL } from '../util/url';\nimport { Extension } from '../modules/base-extension';\nimport { isEmpty } from '../util/type-guards';\nimport { SDKEnvironment, sdkNameToEnvName } from './sdk-environment';\n\n/**\n * Checks if the given `ext` is compatible with the platform & version of Magic\n * SDK currently in use.\n */\nfunction checkExtensionCompat(ext: Extension<string>) {\n  if (ext.compat && ext.compat[SDKEnvironment.sdkName] != null) {\n    return typeof ext.compat[SDKEnvironment.sdkName] === 'string'\n      ? satisfies(coerce(SDKEnvironment.version), ext.compat[SDKEnvironment.sdkName] as string)\n      : !!ext.compat[SDKEnvironment.sdkName];\n  }\n\n  // To gracefully support older extensions, we assume\n  // compatibility when the `compat` field is missing.\n  return true;\n}\n\n/**\n * Initializes SDK extensions, checks for platform/version compatiblity issues,\n * then consolidates any global configurations provided by those extensions.\n */\nfunction prepareExtensions(this: SDKBase, options?: MagicSDKAdditionalConfiguration): Record<string, any> {\n  const extensions: Extension<string>[] | { [key: string]: Extension<string> } = options?.extensions ?? [];\n  const extConfig: any = {};\n  const incompatibleExtensions: Extension<string>[] = [];\n\n  if (Array.isArray(extensions)) {\n    extensions.forEach((ext) => {\n      if (checkExtensionCompat(ext)) {\n        ext.init(this);\n        if (ext.name || ext.name !== Extension.Anonymous) {\n          // Only apply extensions with a known, defined `name` parameter.\n          (this as any)[ext.name] = ext;\n        }\n        if (ext instanceof Extension.Internal) {\n          if (!isEmpty(ext.config)) extConfig[ext.name] = ext.config;\n        }\n      } else {\n        incompatibleExtensions.push(ext);\n      }\n    });\n  } else {\n    Object.keys(extensions).forEach((name) => {\n      if (checkExtensionCompat(extensions[name])) {\n        extensions[name].init(this);\n        const ext = extensions[name];\n        (this as any)[name] = ext;\n        if (ext instanceof Extension.Internal) {\n          if (!isEmpty(ext.config)) extConfig[extensions[name].name] = ext.config;\n        }\n      } else {\n        incompatibleExtensions.push(extensions[name]);\n      }\n    });\n  }\n\n  if (incompatibleExtensions.length) {\n    throw createIncompatibleExtensionsError(incompatibleExtensions);\n  }\n\n  return extConfig;\n}\n\nexport type MagicSDKExtensionsOption<TCustomExtName extends string = string> =\n  | Extension<string>[]\n  | { [P in TCustomExtName]: Extension<string> };\n\nexport interface MagicSDKAdditionalConfiguration<\n  TCustomExtName extends string = string,\n  TExt extends MagicSDKExtensionsOption<TCustomExtName> = any,\n> {\n  endpoint?: string;\n  locale?: SupportedLocale;\n  network?: EthNetworkConfiguration;\n  extensions?: TExt;\n  testMode?: boolean;\n}\n\nexport class SDKBase {\n  private static readonly __overlays__: Map<string, ViewController> = new Map();\n\n  protected readonly endpoint: string;\n  protected readonly parameters: string;\n  public readonly testMode: boolean;\n\n  /**\n   * Contains methods for starting a Magic SDK authentication flow.\n   */\n  public readonly auth: AuthModule;\n\n  /**\n   * Contains methods for interacting with user data, checking login\n   * status, generating cryptographically-secure ID tokens, and more.\n   */\n  public readonly user: UserModule;\n\n  /**\n   * Contains a Web3-compliant provider. Pass this module to your Web3/Ethers\n   * instance for automatic compatibility with Ethereum methods.\n   */\n  public readonly rpcProvider: RPCProviderModule & AbstractProvider;\n\n  /**\n   * Creates an instance of Magic SDK.\n   */\n  constructor(public readonly apiKey: string, options?: MagicSDKAdditionalConfiguration) {\n    if (!apiKey) throw createMissingApiKeyError();\n\n    if (SDKEnvironment.platform === 'react-native' && options?.endpoint) {\n      createReactNativeEndpointConfigurationWarning().log();\n    }\n\n    const { defaultEndpoint, version } = SDKEnvironment;\n    this.testMode = !!options?.testMode;\n    this.endpoint = createURL(options?.endpoint ?? defaultEndpoint).origin;\n\n    // Prepare built-in modules\n    this.auth = new AuthModule(this);\n    this.user = new UserModule(this);\n    this.rpcProvider = new RPCProviderModule(this) as any;\n\n    // Prepare extensions\n    const extConfig: any = prepareExtensions.call(this, options);\n\n    // Encode parameters as base64-JSON\n    this.parameters = encodeJSON<QueryParameters>({\n      API_KEY: this.apiKey,\n      DOMAIN_ORIGIN: window.location ? window.location.origin : '',\n      ETH_NETWORK: options?.network,\n      host: createURL(this.endpoint).host,\n      sdk: sdkNameToEnvName[SDKEnvironment.sdkName],\n      version,\n      ext: isEmpty(extConfig) ? undefined : extConfig,\n      locale: options?.locale || 'en_US',\n    });\n  }\n\n  /**\n   * Represents the view controller associated with this `MagicSDK` instance.\n   */\n  protected get overlay(): ViewController {\n    if (!SDKBase.__overlays__.has(this.parameters)) {\n      const controller = new SDKEnvironment.ViewController(this.endpoint, this.parameters);\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore - We don't want to expose this method to the user, but we\n      // need to invoke in here so that the `ViewController` is ready for use.\n      controller.init();\n\n      SDKBase.__overlays__.set(this.parameters, controller);\n    }\n\n    return SDKBase.__overlays__.get(this.parameters)!;\n  }\n\n  /**\n   * Preloads the Magic view, allowing for faster initial requests in browser\n   * environments. Awaiting the returned promise will signal when the Magic view\n   * has completed loading and is ready for requests.\n   */\n  public async preload() {\n    await this.overlay.ready;\n  }\n}\n","import {\n  MagicIncomingWindowMessage,\n  MagicOutgoingWindowMessage,\n  JsonRpcRequestPayload,\n  MagicMessageEvent,\n  MagicMessageRequest,\n} from '@magic-sdk/types';\nimport { JsonRpcResponse } from './json-rpc';\nimport { createPromise } from '../util/promise-tools';\nimport { getItem, setItem } from '../util/storage';\nimport { createJwt } from '../util/web-crypto';\nimport { SDKEnvironment } from './sdk-environment';\n\ninterface RemoveEventListenerFunction {\n  (): void;\n}\n\ninterface StandardizedResponse {\n  id?: string | number;\n  response?: JsonRpcResponse;\n}\n\n/**\n * Get the originating payload from a batch request using the specified `id`.\n */\nfunction getRequestPayloadFromBatch(\n  requestPayload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n  id?: string | number | null,\n): JsonRpcRequestPayload | undefined {\n  return id && Array.isArray(requestPayload)\n    ? requestPayload.find((p) => p.id === id)\n    : (requestPayload as JsonRpcRequestPayload);\n}\n\n/**\n * Ensures the incoming response follows the expected schema and parses for a\n * JSON RPC payload ID.\n */\nfunction standardizeResponse(\n  requestPayload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n  event: MagicMessageEvent,\n): StandardizedResponse {\n  const id = event.data.response?.id;\n  const requestPayloadResolved = getRequestPayloadFromBatch(requestPayload, id);\n\n  if (id && requestPayloadResolved) {\n    // Build a standardized response object\n    const response = new JsonRpcResponse(requestPayloadResolved)\n      .applyResult(event.data.response.result)\n      .applyError(event.data.response.error);\n\n    return { id, response };\n  }\n\n  return {};\n}\n\nasync function createMagicRequest(msgType: string, payload: JsonRpcRequestPayload | JsonRpcRequestPayload[]) {\n  const rt = await getItem<string>('rt');\n  let jwt;\n\n  // only for webcrypto platforms\n  if (SDKEnvironment.platform === 'web') {\n    try {\n      jwt = await createJwt();\n    } catch (e) {\n      console.error('webcrypto error', e);\n    }\n  }\n\n  if (!jwt) {\n    return { msgType, payload };\n  }\n\n  if (!rt) {\n    return { msgType, payload, jwt };\n  }\n\n  return { msgType, payload, jwt, rt };\n}\n\nasync function persistMagicEventRefreshToken(event: MagicMessageEvent) {\n  if (!event.data.rt) {\n    return;\n  }\n\n  await setItem('rt', event.data.rt);\n}\n\nexport abstract class ViewController {\n  public ready: Promise<void>;\n  protected readonly messageHandlers = new Set<(event: MagicMessageEvent) => any>();\n\n  /**\n   * Create an instance of `ViewController`\n   *\n   * @param endpoint - The URL for the relevant iframe context.\n   * @param parameters - The unique, encoded query parameters for the\n   * relevant iframe context.\n   */\n  constructor(protected readonly endpoint: string, protected readonly parameters: string) {\n    this.ready = this.waitForReady();\n    this.listen();\n  }\n\n  protected abstract init(): void;\n  protected abstract _post(data: MagicMessageRequest): Promise<void>;\n  protected abstract hideOverlay(): void;\n  protected abstract showOverlay(): void;\n\n  /**\n   * Send a payload to the Magic `<iframe>` for processing and automatically\n   * handle the acknowledging follow-up event(s).\n   *\n   * @param msgType - The type of message to encode with the data.\n   * @param payload - The JSON RPC payload to emit via `window.postMessage`.\n   */\n  public async post<ResultType = any>(\n    msgType: MagicOutgoingWindowMessage,\n    payload: JsonRpcRequestPayload[],\n  ): Promise<JsonRpcResponse<ResultType>[]>;\n\n  public async post<ResultType = any>(\n    msgType: MagicOutgoingWindowMessage,\n    payload: JsonRpcRequestPayload,\n  ): Promise<JsonRpcResponse<ResultType>>;\n\n  public async post<ResultType = any>(\n    msgType: MagicOutgoingWindowMessage,\n    payload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n  ): Promise<JsonRpcResponse<ResultType> | JsonRpcResponse<ResultType>[]> {\n    return createPromise(async (resolve) => {\n      await this.ready;\n\n      const batchData: JsonRpcResponse[] = [];\n      const batchIds = Array.isArray(payload) ? payload.map((p) => p.id) : [];\n      const msg = await createMagicRequest(`${msgType}-${this.parameters}`, payload);\n\n      await this._post(msg);\n\n      /**\n       * Collect successful RPC responses and resolve.\n       */\n      const acknowledgeResponse = (removeEventListener: RemoveEventListenerFunction) => (event: MagicMessageEvent) => {\n        const { id, response } = standardizeResponse(payload, event);\n        persistMagicEventRefreshToken(event);\n\n        if (id && response && Array.isArray(payload) && batchIds.includes(id)) {\n          batchData.push(response);\n\n          // For batch requests, we wait for all responses before resolving.\n          if (batchData.length === payload.length) {\n            removeEventListener();\n            resolve(batchData);\n          }\n        } else if (id && response && !Array.isArray(payload) && id === payload.id) {\n          removeEventListener();\n          resolve(response);\n        }\n      };\n\n      // Listen for and handle responses.\n      const removeResponseListener = this.on(\n        MagicIncomingWindowMessage.MAGIC_HANDLE_RESPONSE,\n        acknowledgeResponse(() => removeResponseListener()),\n      );\n    });\n  }\n\n  /**\n   * Listen for events received with the given `msgType`.\n   *\n   * @param msgType - The `msgType` encoded with the event data.\n   * @param handler - A handler function to execute on each event received.\n   * @return A `void` function to remove the attached event.\n   */\n  public on(\n    msgType: MagicIncomingWindowMessage,\n    handler: (this: Window, event: MagicMessageEvent) => any,\n  ): RemoveEventListenerFunction {\n    const boundHandler = handler.bind(window);\n\n    // We cannot effectively cover this function because it never gets reference\n    // by value. The functionality of this callback is tested within\n    // `initMessageListener`.\n    /* istanbul ignore next */\n    const listener = (event: MagicMessageEvent) => {\n      if (event.data.msgType === `${msgType}-${this.parameters}`) boundHandler(event);\n    };\n\n    this.messageHandlers.add(listener);\n    return () => this.messageHandlers.delete(listener);\n  }\n\n  private waitForReady() {\n    return new Promise<void>((resolve) => {\n      this.on(MagicIncomingWindowMessage.MAGIC_OVERLAY_READY, () => resolve());\n    });\n  }\n\n  /**\n   * Listen for messages sent from the underlying Magic `<WebView>`.\n   */\n  private listen() {\n    this.on(MagicIncomingWindowMessage.MAGIC_HIDE_OVERLAY, () => {\n      this.hideOverlay();\n    });\n\n    this.on(MagicIncomingWindowMessage.MAGIC_SHOW_OVERLAY, () => {\n      this.showOverlay();\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}